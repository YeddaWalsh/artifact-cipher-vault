{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/fhevm/internal/constants.ts"],"sourcesContent":["export const SDK_CDN_URL =\n  \"https://cdn.zama.ai/relayer-sdk-js/0.2.0/relayer-sdk-js.umd.cjs\";\n"],"names":[],"mappings":";;;;AAAO,MAAM,cACX","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/fhevm/internal/RelayerSDKLoader.ts"],"sourcesContent":["import { FhevmRelayerSDKType, FhevmWindowType } from \"./fhevmTypes\";\nimport { SDK_CDN_URL } from \"./constants\";\n\ntype TraceType = (message?: unknown, ...optionalParams: unknown[]) => void;\n\nexport class RelayerSDKLoader {\n  private _trace?: TraceType;\n\n  constructor(options: { trace?: TraceType }) {\n    this._trace = options.trace;\n  }\n\n  public isLoaded() {\n    if (typeof window === \"undefined\") {\n      throw new Error(\"RelayerSDKLoader: can only be used in the browser.\");\n    }\n    return isFhevmWindowType(window, this._trace);\n  }\n\n  public load(): Promise<void> {\n    console.log(\"[RelayerSDKLoader] load...\");\n    // Ensure this only runs in the browser\n    if (typeof window === \"undefined\") {\n      console.log(\"[RelayerSDKLoader] window === undefined\");\n      return Promise.reject(\n        new Error(\"RelayerSDKLoader: can only be used in the browser.\")\n      );\n    }\n\n    if (\"relayerSDK\" in window) {\n      if (!isFhevmRelayerSDKType(window.relayerSDK, this._trace)) {\n        console.log(\"[RelayerSDKLoader] window.relayerSDK === undefined\");\n        throw new Error(\"RelayerSDKLoader: Unable to load FHEVM Relayer SDK\");\n      }\n      return Promise.resolve();\n    }\n\n    return new Promise((resolve, reject) => {\n      const existingScript = document.querySelector(\n        `script[src=\"${SDK_CDN_URL}\"]`\n      );\n      if (existingScript) {\n        if (!isFhevmWindowType(window, this._trace)) {\n          reject(\n            new Error(\n              \"RelayerSDKLoader: window object does not contain a valid relayerSDK object.\"\n            )\n          );\n        }\n        resolve();\n        return;\n      }\n\n      const script = document.createElement(\"script\");\n      script.src = SDK_CDN_URL;\n      script.type = \"text/javascript\";\n      script.async = true;\n\n      script.onload = () => {\n        if (!isFhevmWindowType(window, this._trace)) {\n          console.log(\"[RelayerSDKLoader] script onload FAILED...\");\n          reject(\n            new Error(\n              `RelayerSDKLoader: Relayer SDK script has been successfully loaded from ${SDK_CDN_URL}, however, the window.relayerSDK object is invalid.`\n            )\n          );\n        }\n        resolve();\n      };\n\n      script.onerror = () => {\n        console.log(\"[RelayerSDKLoader] script onerror... \");\n        reject(\n          new Error(\n            `RelayerSDKLoader: Failed to load Relayer SDK from ${SDK_CDN_URL}`\n          )\n        );\n      };\n\n      console.log(\"[RelayerSDKLoader] add script to DOM...\");\n      document.head.appendChild(script);\n      console.log(\"[RelayerSDKLoader] script added!\")\n    });\n  }\n}\n\nfunction isFhevmRelayerSDKType(\n  o: unknown,\n  trace?: TraceType\n): o is FhevmRelayerSDKType {\n  if (typeof o === \"undefined\") {\n    trace?.(\"RelayerSDKLoader: relayerSDK is undefined\");\n    return false;\n  }\n  if (o === null) {\n    trace?.(\"RelayerSDKLoader: relayerSDK is null\");\n    return false;\n  }\n  if (typeof o !== \"object\") {\n    trace?.(\"RelayerSDKLoader: relayerSDK is not an object\");\n    return false;\n  }\n  if (!objHasProperty(o, \"initSDK\", \"function\", trace)) {\n    trace?.(\"RelayerSDKLoader: relayerSDK.initSDK is invalid\");\n    return false;\n  }\n  if (!objHasProperty(o, \"createInstance\", \"function\", trace)) {\n    trace?.(\"RelayerSDKLoader: relayerSDK.createInstance is invalid\");\n    return false;\n  }\n  if (!objHasProperty(o, \"SepoliaConfig\", \"object\", trace)) {\n    trace?.(\"RelayerSDKLoader: relayerSDK.SepoliaConfig is invalid\");\n    return false;\n  }\n  if (\"__initialized__\" in o) {\n    if (o.__initialized__ !== true && o.__initialized__ !== false) {\n      trace?.(\"RelayerSDKLoader: relayerSDK.__initialized__ is invalid\");\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function isFhevmWindowType(\n  win: unknown,\n  trace?: TraceType\n): win is FhevmWindowType {\n  if (typeof win === \"undefined\") {\n    trace?.(\"RelayerSDKLoader: window object is undefined\");\n    return false;\n  }\n  if (win === null) {\n    trace?.(\"RelayerSDKLoader: window object is null\");\n    return false;\n  }\n  if (typeof win !== \"object\") {\n    trace?.(\"RelayerSDKLoader: window is not an object\");\n    return false;\n  }\n  if (!(\"relayerSDK\" in win)) {\n    trace?.(\"RelayerSDKLoader: window does not contain 'relayerSDK' property\");\n    return false;\n  }\n  return isFhevmRelayerSDKType(win.relayerSDK);\n}\n\nfunction objHasProperty<\n  T extends object,\n  K extends PropertyKey,\n  V extends string // \"string\", \"number\", etc.\n>(\n  obj: T,\n  propertyName: K,\n  propertyType: V,\n  trace?: TraceType\n): obj is T &\n  Record<\n    K,\n    V extends \"string\"\n      ? string\n      : V extends \"number\"\n      ? number\n      : V extends \"object\"\n      ? object\n      : V extends \"boolean\"\n      ? boolean\n      : V extends \"function\"\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (...args: any[]) => any\n      : unknown\n  > {\n  if (!obj || typeof obj !== \"object\") {\n    return false;\n  }\n\n  if (!(propertyName in obj)) {\n    trace?.(`RelayerSDKLoader: missing ${String(propertyName)}.`);\n    return false;\n  }\n\n  const value = (obj as Record<K, unknown>)[propertyName];\n\n  if (value === null || value === undefined) {\n    trace?.(`RelayerSDKLoader: ${String(propertyName)} is null or undefined.`);\n    return false;\n  }\n\n  if (typeof value !== propertyType) {\n    trace?.(\n      `RelayerSDKLoader: ${String(propertyName)} is not a ${propertyType}.`\n    );\n    return false;\n  }\n\n  return true;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/fhevm/internal/PublicKeyStorage.ts"],"sourcesContent":["import { openDB, DBSchema, IDBPDatabase } from \"idb\";\n\ntype FhevmStoredPublicKey = {\n  publicKeyId: string;\n  publicKey: Uint8Array;\n};\n\ntype FhevmStoredPublicParams = {\n  publicParamsId: string;\n  publicParams: Uint8Array;\n};\n\ninterface PublicParamsDB extends DBSchema {\n  publicKeyStore: {\n    key: string;\n    value: {\n      acl: `0x${string}`;\n      value: FhevmStoredPublicKey;\n    };\n  };\n  paramsStore: {\n    key: string;\n    value: {\n      acl: `0x${string}`;\n      value: FhevmStoredPublicParams;\n    };\n  };\n}\n\nlet __dbPromise: Promise<IDBPDatabase<PublicParamsDB>> | undefined = undefined;\n\nasync function _getDB(): Promise<IDBPDatabase<PublicParamsDB> | undefined> {\n  if (__dbPromise) {\n    return __dbPromise;\n  }\n  if (typeof window === \"undefined\") {\n    return undefined;\n  }\n  __dbPromise = openDB<PublicParamsDB>(\"fhevm\", 1, {\n    upgrade(db) {\n      if (!db.objectStoreNames.contains(\"paramsStore\")) {\n        db.createObjectStore(\"paramsStore\", { keyPath: \"acl\" });\n      }\n      if (!db.objectStoreNames.contains(\"publicKeyStore\")) {\n        db.createObjectStore(\"publicKeyStore\", { keyPath: \"acl\" });\n      }\n    },\n  });\n  return __dbPromise;\n}\n\ntype FhevmInstanceConfigPublicKey = {\n  data: Uint8Array | null;\n  id: string | null;\n};\n\ntype FhevmInstanceConfigPublicParams = {\n  \"2048\": {\n    publicParamsId: string;\n    publicParams: Uint8Array;\n  };\n};\n\nfunction assertFhevmStoredPublicKey(\n  value: unknown\n): asserts value is FhevmStoredPublicKey | null {\n  if (typeof value !== \"object\") {\n    throw new Error(`FhevmStoredPublicKey must be an object`);\n  }\n  if (value === null) {\n    return;\n  }\n  if (!(\"publicKeyId\" in value)) {\n    throw new Error(`FhevmStoredPublicKey.publicKeyId does not exist`);\n  }\n  if (typeof value.publicKeyId !== \"string\") {\n    throw new Error(`FhevmStoredPublicKey.publicKeyId must be a string`);\n  }\n  if (!(\"publicKey\" in value)) {\n    throw new Error(`FhevmStoredPublicKey.publicKey does not exist`);\n  }\n  if (!(value.publicKey instanceof Uint8Array)) {\n    throw new Error(`FhevmStoredPublicKey.publicKey must be a Uint8Array`);\n  }\n}\n\nfunction assertFhevmStoredPublicParams(\n  value: unknown\n): asserts value is FhevmStoredPublicParams | null {\n  if (typeof value !== \"object\") {\n    throw new Error(`FhevmStoredPublicParams must be an object`);\n  }\n  if (value === null) {\n    return;\n  }\n  if (!(\"publicParamsId\" in value)) {\n    throw new Error(`FhevmStoredPublicParams.publicParamsId does not exist`);\n  }\n  if (typeof value.publicParamsId !== \"string\") {\n    throw new Error(`FhevmStoredPublicParams.publicParamsId must be a string`);\n  }\n  if (!(\"publicParams\" in value)) {\n    throw new Error(`FhevmStoredPublicParams.publicParams does not exist`);\n  }\n  if (!(value.publicParams instanceof Uint8Array)) {\n    throw new Error(\n      `FhevmStoredPublicParams.publicParams must be a Uint8Array`\n    );\n  }\n}\n\nexport async function publicKeyStorageGet(aclAddress: `0x${string}`): Promise<{\n  publicKey?: FhevmInstanceConfigPublicKey;\n  publicParams: FhevmInstanceConfigPublicParams | null;\n}> {\n  const db = await _getDB();\n  if (!db) {\n    return { publicParams: null };\n  }\n\n  let storedPublicKey: FhevmStoredPublicKey | null = null;\n  try {\n    const pk = await db.get(\"publicKeyStore\", aclAddress);\n    if (pk?.value) {\n      assertFhevmStoredPublicKey(pk.value);\n      storedPublicKey = pk.value;\n    }\n  } catch {\n    //\n  }\n\n  let storedPublicParams: FhevmStoredPublicParams | null = null;\n  try {\n    const pp = await db.get(\"paramsStore\", aclAddress);\n    if (pp?.value) {\n      assertFhevmStoredPublicParams(pp.value);\n      storedPublicParams = pp.value;\n    }\n  } catch {\n    //\n  }\n\n  const publicKeyData = storedPublicKey?.publicKey;\n  const publicKeyId = storedPublicKey?.publicKeyId;\n  const publicParams = storedPublicParams\n    ? {\n        \"2048\": storedPublicParams,\n      }\n    : null;\n\n  let publicKey: FhevmInstanceConfigPublicKey | undefined = undefined;\n\n  if (publicKeyId && publicKeyData) {\n    publicKey = {\n      id: publicKeyId,\n      data: publicKeyData,\n    };\n  }\n\n  return {\n    ...(publicKey !== undefined && { publicKey }),\n    publicParams,\n  };\n}\n\nexport async function publicKeyStorageSet(\n  aclAddress: `0x${string}`,\n  publicKey: FhevmStoredPublicKey | null,\n  publicParams: FhevmStoredPublicParams | null\n) {\n  assertFhevmStoredPublicKey(publicKey);\n  assertFhevmStoredPublicParams(publicParams);\n\n  const db = await _getDB();\n  if (!db) {\n    return;\n  }\n\n  if (publicKey) {\n    await db.put(\"publicKeyStore\", { acl: aclAddress, value: publicKey });\n  }\n\n  if (publicParams) {\n    await db.put(\"paramsStore\", { acl: aclAddress, value: publicParams });\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AA6BA,IAAI,cAAiE;AAErE,eAAe;IACb,IAAI,aAAa;QACf,OAAO;IACT;IACA;;IAGA,cAAc,IAAA,8JAAM,EAAiB,SAAS,GAAG;QAC/C,SAAQ,EAAE;YACR,IAAI,CAAC,GAAG,gBAAgB,CAAC,QAAQ,CAAC,gBAAgB;gBAChD,GAAG,iBAAiB,CAAC,eAAe;oBAAE,SAAS;gBAAM;YACvD;YACA,IAAI,CAAC,GAAG,gBAAgB,CAAC,QAAQ,CAAC,mBAAmB;gBACnD,GAAG,iBAAiB,CAAC,kBAAkB;oBAAE,SAAS;gBAAM;YAC1D;QACF;IACF;IACA,OAAO;AACT;AAcA,SAAS,2BACP,KAAc;IAEd,IAAI,OAAO,UAAU,UAAU;QAC7B,MAAM,IAAI,MAAO;IACnB;IACA,IAAI,UAAU,MAAM;QAClB;IACF;IACA,IAAI,CAAC,CAAC,iBAAiB,KAAK,GAAG;QAC7B,MAAM,IAAI,MAAO;IACnB;IACA,IAAI,OAAO,MAAM,WAAW,KAAK,UAAU;QACzC,MAAM,IAAI,MAAO;IACnB;IACA,IAAI,CAAC,CAAC,eAAe,KAAK,GAAG;QAC3B,MAAM,IAAI,MAAO;IACnB;IACA,IAAI,CAAC,CAAC,MAAM,SAAS,YAAY,UAAU,GAAG;QAC5C,MAAM,IAAI,MAAO;IACnB;AACF;AAEA,SAAS,8BACP,KAAc;IAEd,IAAI,OAAO,UAAU,UAAU;QAC7B,MAAM,IAAI,MAAO;IACnB;IACA,IAAI,UAAU,MAAM;QAClB;IACF;IACA,IAAI,CAAC,CAAC,oBAAoB,KAAK,GAAG;QAChC,MAAM,IAAI,MAAO;IACnB;IACA,IAAI,OAAO,MAAM,cAAc,KAAK,UAAU;QAC5C,MAAM,IAAI,MAAO;IACnB;IACA,IAAI,CAAC,CAAC,kBAAkB,KAAK,GAAG;QAC9B,MAAM,IAAI,MAAO;IACnB;IACA,IAAI,CAAC,CAAC,MAAM,YAAY,YAAY,UAAU,GAAG;QAC/C,MAAM,IAAI,MACP;IAEL;AACF;AAEO,eAAe,oBAAoB,UAAyB;IAIjE,MAAM,KAAK,MAAM;IACjB,IAAI,CAAC,IAAI;QACP,OAAO;YAAE,cAAc;QAAK;IAC9B;IAEA,IAAI,kBAA+C;IACnD,IAAI;QACF,MAAM,KAAK,MAAM,GAAG,GAAG,CAAC,kBAAkB;QAC1C,IAAI,eAAA,yBAAA,GAAI,KAAK,EAAE;YACb,2BAA2B,GAAG,KAAK;YACnC,kBAAkB,GAAG,KAAK;QAC5B;IACF,EAAE,UAAM;IACN,EAAE;IACJ;IAEA,IAAI,qBAAqD;IACzD,IAAI;QACF,MAAM,KAAK,MAAM,GAAG,GAAG,CAAC,eAAe;QACvC,IAAI,eAAA,yBAAA,GAAI,KAAK,EAAE;YACb,8BAA8B,GAAG,KAAK;YACtC,qBAAqB,GAAG,KAAK;QAC/B;IACF,EAAE,UAAM;IACN,EAAE;IACJ;IAEA,MAAM,gBAAgB,4BAAA,sCAAA,gBAAiB,SAAS;IAChD,MAAM,cAAc,4BAAA,sCAAA,gBAAiB,WAAW;IAChD,MAAM,eAAe,qBACjB;QACE,QAAQ;IACV,IACA;IAEJ,IAAI,YAAsD;IAE1D,IAAI,eAAe,eAAe;QAChC,YAAY;YACV,IAAI;YACJ,MAAM;QACR;IACF;IAEA,OAAO;QACL,GAAI,cAAc,aAAa;YAAE;QAAU,CAAC;QAC5C;IACF;AACF;AAEO,eAAe,oBACpB,UAAyB,EACzB,SAAsC,EACtC,YAA4C;IAE5C,2BAA2B;IAC3B,8BAA8B;IAE9B,MAAM,KAAK,MAAM;IACjB,IAAI,CAAC,IAAI;QACP;IACF;IAEA,IAAI,WAAW;QACb,MAAM,GAAG,GAAG,CAAC,kBAAkB;YAAE,KAAK;YAAY,OAAO;QAAU;IACrE;IAEA,IAAI,cAAc;QAChB,MAAM,GAAG,GAAG,CAAC,eAAe;YAAE,KAAK;YAAY,OAAO;QAAa;IACrE;AACF","debugId":null}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/fhevm/internal/fhevm.ts"],"sourcesContent":["import { isAddress, Eip1193Provider, JsonRpcProvider } from \"ethers\";\nimport type {\n  FhevmInitSDKOptions,\n  FhevmInitSDKType,\n  FhevmLoadSDKType,\n  FhevmWindowType,\n} from \"./fhevmTypes\";\nimport { isFhevmWindowType, RelayerSDKLoader } from \"./RelayerSDKLoader\";\nimport { publicKeyStorageGet, publicKeyStorageSet } from \"./PublicKeyStorage\";\nimport { FhevmInstance, FhevmInstanceConfig } from \"../fhevmTypes\";\n\nexport class FhevmReactError extends Error {\n  code: string;\n  constructor(code: string, message?: string, options?: ErrorOptions) {\n    super(message, options);\n    this.code = code;\n    this.name = \"FhevmReactError\";\n  }\n}\n\nfunction throwFhevmError(\n  code: string,\n  message?: string,\n  cause?: unknown\n): never {\n  throw new FhevmReactError(code, message, cause ? { cause } : undefined);\n}\n\nconst isFhevmInitialized = (): boolean => {\n  if (!isFhevmWindowType(window, console.log)) {\n    return false;\n  }\n  return window.relayerSDK.__initialized__ === true;\n};\n\nconst fhevmLoadSDK: FhevmLoadSDKType = () => {\n  const loader = new RelayerSDKLoader({ trace: console.log });\n  return loader.load();\n};\n\nconst fhevmInitSDK: FhevmInitSDKType = async (\n  options?: FhevmInitSDKOptions\n) => {\n  if (!isFhevmWindowType(window, console.log)) {\n    throw new Error(\"window.relayerSDK is not available\");\n  }\n  const result = await window.relayerSDK.initSDK(options);\n  window.relayerSDK.__initialized__ = result;\n  if (!result) {\n    throw new Error(\"window.relayerSDK.initSDK failed.\");\n  }\n  return true;\n};\n\nfunction checkIsAddress(a: unknown): a is `0x${string}` {\n  if (typeof a !== \"string\") {\n    return false;\n  }\n  if (!isAddress(a)) {\n    return false;\n  }\n  return true;\n}\n\nexport class FhevmAbortError extends Error {\n  constructor(message = \"FHEVM operation was cancelled\") {\n    super(message);\n    this.name = \"FhevmAbortError\";\n  }\n}\n\ntype FhevmRelayerStatusType =\n  | \"sdk-loading\"\n  | \"sdk-loaded\"\n  | \"sdk-initializing\"\n  | \"sdk-initialized\"\n  | \"creating\";\n\nasync function getChainId(\n  providerOrUrl: Eip1193Provider | string\n): Promise<number> {\n  if (typeof providerOrUrl === \"string\") {\n    const provider = new JsonRpcProvider(providerOrUrl);\n    return Number((await provider.getNetwork()).chainId);\n  }\n  const chainId = await providerOrUrl.request({ method: \"eth_chainId\" });\n  return Number.parseInt(chainId as string, 16);\n}\n\nasync function getWeb3Client(rpcUrl: string) {\n  const rpc = new JsonRpcProvider(rpcUrl);\n  try {\n    const version = await rpc.send(\"web3_clientVersion\", []);\n    return version;\n  } catch (e) {\n    throwFhevmError(\n      \"WEB3_CLIENTVERSION_ERROR\",\n      `The URL ${rpcUrl} is not a Web3 node or is not reachable. Please check the endpoint.`,\n      e\n    );\n  } finally {\n    rpc.destroy();\n  }\n}\n\nasync function tryFetchFHEVMHardhatNodeRelayerMetadata(rpcUrl: string): Promise<\n  | {\n      ACLAddress: `0x${string}`;\n      InputVerifierAddress: `0x${string}`;\n      KMSVerifierAddress: `0x${string}`;\n    }\n  | undefined\n> {\n  const version = await getWeb3Client(rpcUrl);\n  if (\n    typeof version !== \"string\" ||\n    !version.toLowerCase().includes(\"hardhat\")\n  ) {\n    // Not a Hardhat Node\n    return undefined;\n  }\n  try {\n    const metadata = await getFHEVMRelayerMetadata(rpcUrl);\n    if (!metadata || typeof metadata !== \"object\") {\n      return undefined;\n    }\n    if (\n      !(\n        \"ACLAddress\" in metadata &&\n        typeof metadata.ACLAddress === \"string\" &&\n        metadata.ACLAddress.startsWith(\"0x\")\n      )\n    ) {\n      return undefined;\n    }\n    if (\n      !(\n        \"InputVerifierAddress\" in metadata &&\n        typeof metadata.InputVerifierAddress === \"string\" &&\n        metadata.InputVerifierAddress.startsWith(\"0x\")\n      )\n    ) {\n      return undefined;\n    }\n    if (\n      !(\n        \"KMSVerifierAddress\" in metadata &&\n        typeof metadata.KMSVerifierAddress === \"string\" &&\n        metadata.KMSVerifierAddress.startsWith(\"0x\")\n      )\n    ) {\n      return undefined;\n    }\n    return metadata;\n  } catch {\n    // Not a FHEVM Hardhat Node\n    return undefined;\n  }\n}\n\nasync function getFHEVMRelayerMetadata(rpcUrl: string) {\n  const rpc = new JsonRpcProvider(rpcUrl);\n  try {\n    const version = await rpc.send(\"fhevm_relayer_metadata\", []);\n    return version;\n  } catch (e) {\n    throwFhevmError(\n      \"FHEVM_RELAYER_METADATA_ERROR\",\n      `The URL ${rpcUrl} is not a FHEVM Hardhat node or is not reachable. Please check the endpoint.`,\n      e\n    );\n  } finally {\n    rpc.destroy();\n  }\n}\n\ntype MockResolveResult = { isMock: true; chainId: number; rpcUrl: string };\ntype GenericResolveResult = { isMock: false; chainId: number; rpcUrl?: string };\ntype ResolveResult = MockResolveResult | GenericResolveResult;\n\nasync function resolve(\n  providerOrUrl: Eip1193Provider | string,\n  mockChains?: Record<number, string>\n): Promise<ResolveResult> {\n  // Resolve chainId\n  const chainId = await getChainId(providerOrUrl);\n\n  // Resolve rpc url\n  let rpcUrl = typeof providerOrUrl === \"string\" ? providerOrUrl : undefined;\n\n  const _mockChains: Record<number, string> = {\n    31337: \"http://localhost:8545\",\n    ...(mockChains ?? {}),\n  };\n\n  // Help Typescript solver here:\n  if (Object.hasOwn(_mockChains, chainId)) {\n    if (!rpcUrl) {\n      rpcUrl = _mockChains[chainId];\n    }\n\n    return { isMock: true, chainId, rpcUrl };\n  }\n\n  return { isMock: false, chainId, rpcUrl };\n}\n\nexport const createFhevmInstance = async (parameters: {\n  provider: Eip1193Provider | string;\n  mockChains?: Record<number, string>;\n  signal: AbortSignal;\n  onStatusChange?: (status: FhevmRelayerStatusType) => void;\n}): Promise<FhevmInstance> => {\n  const throwIfAborted = () => {\n    if (signal.aborted) throw new FhevmAbortError();\n  };\n\n  const notify = (status: FhevmRelayerStatusType) => {\n    if (onStatusChange) onStatusChange(status);\n  };\n\n  const {\n    signal,\n    onStatusChange,\n    provider: providerOrUrl,\n    mockChains,\n  } = parameters;\n\n  // Resolve chainId\n  const { isMock, rpcUrl, chainId } = await resolve(providerOrUrl, mockChains);\n\n  if (isMock) {\n    // Throws an error if cannot connect or url does not refer to a Web3 client\n    const fhevmRelayerMetadata =\n      await tryFetchFHEVMHardhatNodeRelayerMetadata(rpcUrl);\n\n    if (fhevmRelayerMetadata) {\n      // fhevmRelayerMetadata is defined, which means rpcUrl refers to a FHEVM Hardhat Node\n      notify(\"creating\");\n\n      //////////////////////////////////////////////////////////////////////////\n      // \n      // WARNING!!\n      // ALWAY USE DYNAMIC IMPORT TO AVOID INCLUDING THE ENTIRE FHEVM MOCK LIB \n      // IN THE FINAL PRODUCTION BUNDLE!!\n      // \n      //////////////////////////////////////////////////////////////////////////\n      const fhevmMock = await import(\"./mock/fhevmMock\");\n      const mockInstance = await fhevmMock.fhevmMockCreateInstance({\n        rpcUrl,\n        chainId,\n        metadata: fhevmRelayerMetadata,\n      });\n\n      throwIfAborted();\n\n      return mockInstance;\n    }\n  }\n\n  throwIfAborted();\n\n  if (!isFhevmWindowType(window, console.log)) {\n    notify(\"sdk-loading\");\n\n    // throws an error if failed\n    await fhevmLoadSDK();\n    throwIfAborted();\n\n    notify(\"sdk-loaded\");\n  }\n\n  // notify that state === \"sdk-loaded\"\n\n  if (!isFhevmInitialized()) {\n    notify(\"sdk-initializing\");\n\n    // throws an error if failed\n    await fhevmInitSDK();\n    throwIfAborted();\n\n    notify(\"sdk-initialized\");\n  }\n\n  const relayerSDK = (window as unknown as FhevmWindowType).relayerSDK;\n\n  const aclAddress = relayerSDK.SepoliaConfig.aclContractAddress;\n  if (!checkIsAddress(aclAddress)) {\n    throw new Error(`Invalid address: ${aclAddress}`);\n  }\n\n  const pub = await publicKeyStorageGet(aclAddress);\n  throwIfAborted();\n\n  const config: FhevmInstanceConfig = {\n    ...relayerSDK.SepoliaConfig,\n    network: providerOrUrl,\n    publicKey: pub.publicKey,\n    publicParams: pub.publicParams,\n  };\n\n  // notify that state === \"creating\"\n  notify(\"creating\");\n\n  const instance = await relayerSDK.createInstance(config);\n\n  // Save the key even if aborted\n  await publicKeyStorageSet(\n    aclAddress,\n    instance.getPublicKey(),\n    instance.getPublicParams(2048)\n  );\n\n  throwIfAborted();\n\n  return instance;\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/fhevm/useFhevm.tsx"],"sourcesContent":["import { ethers } from \"ethers\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport type { FhevmInstance } from \"./fhevmTypes\";\nimport { createFhevmInstance } from \"./internal/fhevm\";\n\nfunction _assert(condition: boolean, message?: string): asserts condition {\n  if (!condition) {\n    const m = message ? `Assertion failed: ${message}` : `Assertion failed.`;\n    console.error(m);\n    throw new Error(m);\n  }\n}\n\nexport type FhevmGoState = \"idle\" | \"loading\" | \"ready\" | \"error\";\n\nexport function useFhevm(parameters: {\n  provider: string | ethers.Eip1193Provider | undefined;\n  chainId: number | undefined;\n  enabled?: boolean;\n  initialMockChains?: Readonly<Record<number, string>>;  \n}): {\n  instance: FhevmInstance | undefined;\n  refresh: () => void;\n  error: Error | undefined;\n  status: FhevmGoState;\n} {\n  const { provider, chainId, initialMockChains, enabled = true } = parameters;\n\n  const [instance, _setInstance] = useState<FhevmInstance | undefined>(\n    undefined\n  );\n  const [status, _setStatus] = useState<FhevmGoState>(\"idle\");\n  const [error, _setError] = useState<Error | undefined>(undefined);\n  const [_isRunning, _setIsRunning] = useState<boolean>(enabled);\n  const [_providerChanged, _setProviderChanged] = useState<number>(0);\n  const _abortControllerRef = useRef<AbortController | null>(null);\n  const _providerRef = useRef<string | ethers.Eip1193Provider | undefined>(\n    provider\n  );\n  const _chainIdRef = useRef<number | undefined>(chainId);\n  const _mockChainsRef = useRef<Record<number, string> | undefined>(\n    initialMockChains\n  );\n\n  const refresh = useCallback(() => {\n    // Provider or chainId has changed. Abort immediately\n    if (_abortControllerRef.current) {\n      // Make sure _providerRef.current + _chainIdRef.current are undefined during abort\n      _providerRef.current = undefined;\n      _chainIdRef.current = undefined;\n\n      _abortControllerRef.current.abort();\n      _abortControllerRef.current = null;\n    }\n\n    _providerRef.current = provider;\n    _chainIdRef.current = chainId;\n\n    // Nullify instance immediately\n    _setInstance(undefined);\n    _setError(undefined);\n    _setStatus(\"idle\");\n\n    if (provider !== undefined) {\n      // Force call main useEffect\n      _setProviderChanged((prev) => prev + 1);\n    }\n\n    // Do not modify the running flag.\n  }, [provider, chainId]);\n\n  // Merge in main useEffect!!!\n  useEffect(() => {\n    refresh();\n  }, [refresh]);\n\n  useEffect(() => {\n    _setIsRunning(enabled);\n  }, [enabled]);\n\n  // Main useEffect\n  useEffect(() => {\n    // is _providerRef.current valid here ?\n    // even if the first useEffect is rendered in the same render-cycle ?\n    if (_isRunning === false) {\n      // cancelled\n      console.log(\"cancelled\");\n      if (_abortControllerRef.current) {\n        _abortControllerRef.current.abort();\n        _abortControllerRef.current = null;\n      }\n      // May already be null if provider was changed in the previous render-cycle\n      _setInstance(undefined);\n      _setError(undefined);\n      _setStatus(\"idle\");\n      return;\n    }\n\n    if (_isRunning === true) {\n      if (_providerRef.current === undefined) {\n        // instance should be undefined\n        // this code below should be unecessary\n        _setInstance(undefined);\n        _setError(undefined);\n        _setStatus(\"idle\");\n        return;\n      }\n\n      if (!_abortControllerRef.current) {\n        _abortControllerRef.current = new AbortController();\n      }\n\n      _assert(\n        !_abortControllerRef.current.signal.aborted,\n        \"!controllerRef.current.signal.aborted\"\n      );\n\n      // Keep old instance\n      // Was set to undefined if provider changed\n      _setStatus(\"loading\");\n      _setError(undefined);\n\n      const thisSignal = _abortControllerRef.current.signal;\n      const thisProvider = _providerRef.current;\n      // Can be undefined, if so, call eth_chainId\n      const thisRpcUrlsByChainId = _mockChainsRef.current;\n\n      createFhevmInstance({\n        signal: thisSignal,\n        provider: thisProvider,\n        mockChains: thisRpcUrlsByChainId,\n        onStatusChange: (s) =>\n          console.log(`[useFhevm] createFhevmInstance status changed: ${s}`),\n      })\n        .then((i) => {\n          console.log(`[useFhevm] createFhevmInstance created!`);\n          //console.log(`completed (runId=${thisRunId})...`);\n          if (thisSignal.aborted) return;\n\n          // is there a edge case where the assert below would fail ?\n          // it's not possible to have a _providerRef modified without a prior abort\n          _assert(\n            thisProvider === _providerRef.current,\n            \"thisProvider === _providerRef.current\"\n          );\n\n          _setInstance(i);\n          _setError(undefined);\n          _setStatus(\"ready\");\n        })\n        .catch((e) => {\n          console.log(`Error Was thrown !!! error... ` + e.name);\n          if (thisSignal.aborted) return;\n\n          // it's not possible to have a _providerRef modified without a prior abort\n          _assert(\n            thisProvider === _providerRef.current,\n            \"thisProvider === _providerRef.current\"\n          );\n\n          _setInstance(undefined);\n          _setError(e);\n          _setStatus(\"error\");\n        });\n    }\n  }, [_isRunning, _providerChanged]);\n\n  return { instance, refresh, error, status };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 689, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/config/ZamaConfig.sol/EthereumConfig__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nimport {\n  Contract,\n  ContractFactory,\n  ContractTransactionResponse,\n  Interface,\n} from \"ethers\";\nimport type { Signer, ContractDeployTransaction, ContractRunner } from \"ethers\";\nimport type { NonPayableOverrides } from \"../../../../../common\";\nimport type {\n  EthereumConfig,\n  EthereumConfigInterface,\n} from \"../../../../../@fhevm/solidity/config/ZamaConfig.sol/EthereumConfig\";\n\nconst _abi = [\n  {\n    inputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    inputs: [],\n    name: \"protocolId\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"pure\",\n    type: \"function\",\n  },\n] as const;\n\nconst _bytecode =\n  \"0x608060405234801561000f575f5ffd5b5061013661005a60408051608080820183525f808352602080840182905283850182905260609384018290528451928301855281835282018190529281018390529081019190915290565b80517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970080546001600160a01b03199081166001600160a01b039384161790915560208301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497018054831691841691909117905560408301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497028054831691841691909117905560608301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497038054909216921691909117905550565b604b806101425f395ff3fe6080604052348015600e575f5ffd5b50600436106026575f3560e01c8063da1f12ab14602a575b5f5ffd5b600160405190815260200160405180910390f3fea164736f6c634300081b000a\";\n\ntype EthereumConfigConstructorParams =\n  | [signer?: Signer]\n  | ConstructorParameters<typeof ContractFactory>;\n\nconst isSuperArgs = (\n  xs: EthereumConfigConstructorParams\n): xs is ConstructorParameters<typeof ContractFactory> => xs.length > 1;\n\nexport class EthereumConfig__factory extends ContractFactory {\n  constructor(...args: EthereumConfigConstructorParams) {\n    if (isSuperArgs(args)) {\n      super(...args);\n    } else {\n      super(_abi, _bytecode, args[0]);\n    }\n  }\n\n  override getDeployTransaction(\n    overrides?: NonPayableOverrides & { from?: string }\n  ): Promise<ContractDeployTransaction> {\n    return super.getDeployTransaction(overrides || {});\n  }\n  override deploy(overrides?: NonPayableOverrides & { from?: string }) {\n    return super.deploy(overrides || {}) as Promise<\n      EthereumConfig & {\n        deploymentTransaction(): ContractTransactionResponse;\n      }\n    >;\n  }\n  override connect(runner: ContractRunner | null): EthereumConfig__factory {\n    return super.connect(runner) as EthereumConfig__factory;\n  }\n\n  static readonly bytecode = _bytecode;\n  static readonly abi = _abi;\n  static createInterface(): EthereumConfigInterface {\n    return new Interface(_abi) as EthereumConfigInterface;\n  }\n  static connect(\n    address: string,\n    runner?: ContractRunner | null\n  ): EthereumConfig {\n    return new Contract(address, _abi, runner) as unknown as EthereumConfig;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAClB;AAAA;AAAA;;;AAaA,MAAM,OAAO;IACX;QACE,QAAQ,EAAE;QACV,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;CACD;AAED,MAAM,YACJ;AAMF,MAAM,cAAc,CAClB,KACwD,GAAG,MAAM,GAAG;AAE/D,MAAM,gCAAgC,iLAAe;IASjD,qBACP,SAAmD,EACf;QACpC,OAAO,KAAK,CAAC,qBAAqB,aAAa,CAAC;IAClD;IACS,OAAO,SAAmD,EAAE;QACnE,OAAO,KAAK,CAAC,OAAO,aAAa,CAAC;IAKpC;IACS,QAAQ,MAA6B,EAA2B;QACvE,OAAO,KAAK,CAAC,QAAQ;IACvB;IAIA,OAAO,kBAA2C;QAChD,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QACL,OAAe,EACf,MAA8B,EACd;QAChB,OAAO,IAAI,2KAAQ,CAAC,SAAS,MAAM;IACrC;IAlCA,YAAY,GAAG,IAAqC,CAAE;QACpD,IAAI,YAAY,OAAO;YACrB,KAAK,IAAI;QACX,OAAO;YACL,KAAK,CAAC,MAAM,WAAW,IAAI,CAAC,EAAE;QAChC;IACF;AA6BF;AAXE,qLAzBW,yBAyBK,YAAW;AAC3B,qLA1BW,yBA0BK,OAAM","debugId":null}},
    {"offset": {"line": 754, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/config/ZamaConfig.sol/SepoliaConfig__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nimport {\n  Contract,\n  ContractFactory,\n  ContractTransactionResponse,\n  Interface,\n} from \"ethers\";\nimport type { Signer, ContractDeployTransaction, ContractRunner } from \"ethers\";\nimport type { NonPayableOverrides } from \"../../../../../common\";\nimport type {\n  SepoliaConfig,\n  SepoliaConfigInterface,\n} from \"../../../../../@fhevm/solidity/config/ZamaConfig.sol/SepoliaConfig\";\n\nconst _abi = [\n  {\n    inputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    inputs: [],\n    name: \"protocolId\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"pure\",\n    type: \"function\",\n  },\n] as const;\n\nconst _bytecode =\n  \"0x608060405234801561000f575f5ffd5b5061018a6100ae604080516080810182525f80825260208201819052918101829052606081019190915250604080516080810182527350157cffd6bbfa2dece204a89ec419c23ef5755d815273cd3ab3bd6bcc0c0bf3e27912a92043e817b1cf69602082015273a02cda4ca3a71d7c46997716f4283aa851c2881291810191909152731364cbbf2cdf5032c47d8226a6f6fbd2afcdacac606082015290565b80517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970080546001600160a01b03199081166001600160a01b039384161790915560208301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497018054831691841691909117905560408301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497028054831691841691909117905560608301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497038054909216921691909117905550565b604c806101965f395ff3fe6080604052348015600e575f5ffd5b50600436106026575f3560e01c8063da1f12ab14602a575b5f5ffd5b61271160405190815260200160405180910390f3fea164736f6c634300081b000a\";\n\ntype SepoliaConfigConstructorParams =\n  | [signer?: Signer]\n  | ConstructorParameters<typeof ContractFactory>;\n\nconst isSuperArgs = (\n  xs: SepoliaConfigConstructorParams\n): xs is ConstructorParameters<typeof ContractFactory> => xs.length > 1;\n\nexport class SepoliaConfig__factory extends ContractFactory {\n  constructor(...args: SepoliaConfigConstructorParams) {\n    if (isSuperArgs(args)) {\n      super(...args);\n    } else {\n      super(_abi, _bytecode, args[0]);\n    }\n  }\n\n  override getDeployTransaction(\n    overrides?: NonPayableOverrides & { from?: string }\n  ): Promise<ContractDeployTransaction> {\n    return super.getDeployTransaction(overrides || {});\n  }\n  override deploy(overrides?: NonPayableOverrides & { from?: string }) {\n    return super.deploy(overrides || {}) as Promise<\n      SepoliaConfig & {\n        deploymentTransaction(): ContractTransactionResponse;\n      }\n    >;\n  }\n  override connect(runner: ContractRunner | null): SepoliaConfig__factory {\n    return super.connect(runner) as SepoliaConfig__factory;\n  }\n\n  static readonly bytecode = _bytecode;\n  static readonly abi = _abi;\n  static createInterface(): SepoliaConfigInterface {\n    return new Interface(_abi) as SepoliaConfigInterface;\n  }\n  static connect(\n    address: string,\n    runner?: ContractRunner | null\n  ): SepoliaConfig {\n    return new Contract(address, _abi, runner) as unknown as SepoliaConfig;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAClB;AAAA;AAAA;;;AAaA,MAAM,OAAO;IACX;QACE,QAAQ,EAAE;QACV,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;CACD;AAED,MAAM,YACJ;AAMF,MAAM,cAAc,CAClB,KACwD,GAAG,MAAM,GAAG;AAE/D,MAAM,+BAA+B,iLAAe;IAShD,qBACP,SAAmD,EACf;QACpC,OAAO,KAAK,CAAC,qBAAqB,aAAa,CAAC;IAClD;IACS,OAAO,SAAmD,EAAE;QACnE,OAAO,KAAK,CAAC,OAAO,aAAa,CAAC;IAKpC;IACS,QAAQ,MAA6B,EAA0B;QACtE,OAAO,KAAK,CAAC,QAAQ;IACvB;IAIA,OAAO,kBAA0C;QAC/C,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QACL,OAAe,EACf,MAA8B,EACf;QACf,OAAO,IAAI,2KAAQ,CAAC,SAAS,MAAM;IACrC;IAlCA,YAAY,GAAG,IAAoC,CAAE;QACnD,IAAI,YAAY,OAAO;YACrB,KAAK,IAAI;QACX,OAAO;YACL,KAAK,CAAC,MAAM,WAAW,IAAI,CAAC,EAAE;QAChC;IACF;AA6BF;AAXE,qLAzBW,wBAyBK,YAAW;AAC3B,qLA1BW,wBA0BK,OAAM","debugId":null}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/config/ZamaConfig.sol/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport { EthereumConfig__factory } from \"./EthereumConfig__factory\";\nexport { SepoliaConfig__factory } from \"./SepoliaConfig__factory\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB;AACA","debugId":null}},
    {"offset": {"line": 844, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/config/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport * as zamaConfigSol from \"./ZamaConfig.sol\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB;AAAA","debugId":null}},
    {"offset": {"line": 866, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/FHE.sol/FHE__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nimport {\n  Contract,\n  ContractFactory,\n  ContractTransactionResponse,\n  Interface,\n} from \"ethers\";\nimport type { Signer, ContractDeployTransaction, ContractRunner } from \"ethers\";\nimport type { NonPayableOverrides } from \"../../../../../common\";\nimport type {\n  FHE,\n  FHEInterface,\n} from \"../../../../../@fhevm/solidity/lib/FHE.sol/FHE\";\n\nconst _abi = [\n  {\n    inputs: [],\n    name: \"HandlesAlreadySavedForRequestID\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"InvalidKMSSignatures\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"NoHandleFoundForRequestID\",\n    type: \"error\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"requestID\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"DecryptionFulfilled\",\n    type: \"event\",\n  },\n] as const;\n\nconst _bytecode =\n  \"0x602c6032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f5ffdfea164736f6c634300081b000a\";\n\ntype FHEConstructorParams =\n  | [signer?: Signer]\n  | ConstructorParameters<typeof ContractFactory>;\n\nconst isSuperArgs = (\n  xs: FHEConstructorParams\n): xs is ConstructorParameters<typeof ContractFactory> => xs.length > 1;\n\nexport class FHE__factory extends ContractFactory {\n  constructor(...args: FHEConstructorParams) {\n    if (isSuperArgs(args)) {\n      super(...args);\n    } else {\n      super(_abi, _bytecode, args[0]);\n    }\n  }\n\n  override getDeployTransaction(\n    overrides?: NonPayableOverrides & { from?: string }\n  ): Promise<ContractDeployTransaction> {\n    return super.getDeployTransaction(overrides || {});\n  }\n  override deploy(overrides?: NonPayableOverrides & { from?: string }) {\n    return super.deploy(overrides || {}) as Promise<\n      FHE & {\n        deploymentTransaction(): ContractTransactionResponse;\n      }\n    >;\n  }\n  override connect(runner: ContractRunner | null): FHE__factory {\n    return super.connect(runner) as FHE__factory;\n  }\n\n  static readonly bytecode = _bytecode;\n  static readonly abi = _abi;\n  static createInterface(): FHEInterface {\n    return new Interface(_abi) as FHEInterface;\n  }\n  static connect(address: string, runner?: ContractRunner | null): FHE {\n    return new Contract(address, _abi, runner) as unknown as FHE;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAClB;AAAA;AAAA;;;AAaA,MAAM,OAAO;IACX;QACE,QAAQ,EAAE;QACV,MAAM;QACN,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,MAAM;IACR;IACA;QACE,WAAW;QACX,QAAQ;YACN;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,MAAM;IACR;CACD;AAED,MAAM,YACJ;AAMF,MAAM,cAAc,CAClB,KACwD,GAAG,MAAM,GAAG;AAE/D,MAAM,qBAAqB,iLAAe;IAStC,qBACP,SAAmD,EACf;QACpC,OAAO,KAAK,CAAC,qBAAqB,aAAa,CAAC;IAClD;IACS,OAAO,SAAmD,EAAE;QACnE,OAAO,KAAK,CAAC,OAAO,aAAa,CAAC;IAKpC;IACS,QAAQ,MAA6B,EAAgB;QAC5D,OAAO,KAAK,CAAC,QAAQ;IACvB;IAIA,OAAO,kBAAgC;QACrC,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QAAQ,OAAe,EAAE,MAA8B,EAAO;QACnE,OAAO,IAAI,2KAAQ,CAAC,SAAS,MAAM;IACrC;IA/BA,YAAY,GAAG,IAA0B,CAAE;QACzC,IAAI,YAAY,OAAO;YACrB,KAAK,IAAI;QACX,OAAO;YACL,KAAK,CAAC,MAAM,WAAW,IAAI,CAAC,EAAE;QAChC;IACF;AA0BF;AARE,qLAzBW,cAyBK,YAAW;AAC3B,qLA1BW,cA0BK,OAAM","debugId":null}},
    {"offset": {"line": 941, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/FHE.sol/IDecryptionOracle__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Contract, Interface, type ContractRunner } from \"ethers\";\nimport type {\n  IDecryptionOracle,\n  IDecryptionOracleInterface,\n} from \"../../../../../@fhevm/solidity/lib/FHE.sol/IDecryptionOracle\";\n\nconst _abi = [\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestID\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"bytes32[]\",\n        name: \"ctsHandles\",\n        type: \"bytes32[]\",\n      },\n      {\n        internalType: \"bytes4\",\n        name: \"callbackSelector\",\n        type: \"bytes4\",\n      },\n    ],\n    name: \"requestDecryption\",\n    outputs: [],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n] as const;\n\nexport class IDecryptionOracle__factory {\n  static readonly abi = _abi;\n  static createInterface(): IDecryptionOracleInterface {\n    return new Interface(_abi) as IDecryptionOracleInterface;\n  }\n  static connect(\n    address: string,\n    runner?: ContractRunner | null\n  ): IDecryptionOracle {\n    return new Contract(address, _abi, runner) as unknown as IDecryptionOracle;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAElB;AAAA;;;AAMA,MAAM,OAAO;IACX;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;CACD;AAEM,MAAM;IAEX,OAAO,kBAA8C;QACnD,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QACL,OAAe,EACf,MAA8B,EACX;QACnB,OAAO,IAAI,2KAAQ,CAAC,SAAS,MAAM;IACrC;AACF;AAVE,qLADW,4BACK,OAAM","debugId":null}},
    {"offset": {"line": 991, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/FHE.sol/IKMSVerifier__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Contract, Interface, type ContractRunner } from \"ethers\";\nimport type {\n  IKMSVerifier,\n  IKMSVerifierInterface,\n} from \"../../../../../@fhevm/solidity/lib/FHE.sol/IKMSVerifier\";\n\nconst _abi = [\n  {\n    inputs: [\n      {\n        internalType: \"bytes32[]\",\n        name: \"handlesList\",\n        type: \"bytes32[]\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"decryptedResult\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"decryptionProof\",\n        type: \"bytes\",\n      },\n    ],\n    name: \"verifyDecryptionEIP712KMSSignatures\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n] as const;\n\nexport class IKMSVerifier__factory {\n  static readonly abi = _abi;\n  static createInterface(): IKMSVerifierInterface {\n    return new Interface(_abi) as IKMSVerifierInterface;\n  }\n  static connect(\n    address: string,\n    runner?: ContractRunner | null\n  ): IKMSVerifier {\n    return new Contract(address, _abi, runner) as unknown as IKMSVerifier;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAElB;AAAA;;;AAMA,MAAM,OAAO;IACX;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;CACD;AAEM,MAAM;IAEX,OAAO,kBAAyC;QAC9C,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QACL,OAAe,EACf,MAA8B,EAChB;QACd,OAAO,IAAI,2KAAQ,CAAC,SAAS,MAAM;IACrC;AACF;AAVE,qLADW,uBACK,OAAM","debugId":null}},
    {"offset": {"line": 1047, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/FHE.sol/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport { FHE__factory } from \"./FHE__factory\";\nexport { IDecryptionOracle__factory } from \"./IDecryptionOracle__factory\";\nexport { IKMSVerifier__factory } from \"./IKMSVerifier__factory\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB;AACA;AACA","debugId":null}},
    {"offset": {"line": 1077, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/Impl.sol/IACL__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Contract, Interface, type ContractRunner } from \"ethers\";\nimport type {\n  IACL,\n  IACLInterface,\n} from \"../../../../../@fhevm/solidity/lib/Impl.sol/IACL\";\n\nconst _abi = [\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"handle\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"allow\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32[]\",\n        name: \"handlesList\",\n        type: \"bytes32[]\",\n      },\n    ],\n    name: \"allowForDecryption\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"ciphertext\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"allowTransient\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"cleanTransientStorage\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"handle\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\",\n      },\n    ],\n    name: \"isAllowed\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"handle\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"isAllowedForDecryption\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n] as const;\n\nexport class IACL__factory {\n  static readonly abi = _abi;\n  static createInterface(): IACLInterface {\n    return new Interface(_abi) as IACLInterface;\n  }\n  static connect(address: string, runner?: ContractRunner | null): IACL {\n    return new Contract(address, _abi, runner) as unknown as IACL;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAElB;AAAA;;;AAMA,MAAM,OAAO;IACX;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;CACD;AAEM,MAAM;IAEX,OAAO,kBAAiC;QACtC,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QAAQ,OAAe,EAAE,MAA8B,EAAQ;QACpE,OAAO,IAAI,2KAAQ,CAAC,SAAS,MAAM;IACrC;AACF;AAPE,qLADW,eACK,OAAM","debugId":null}},
    {"offset": {"line": 1203, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/Impl.sol/IFHEVMExecutor__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Contract, Interface, type ContractRunner } from \"ethers\";\nimport type {\n  IFHEVMExecutor,\n  IFHEVMExecutorInterface,\n} from \"../../../../../@fhevm/solidity/lib/Impl.sol/IFHEVMExecutor\";\n\nconst _abi = [\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"ct\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"enum FheType\",\n        name: \"toType\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"cast\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheAdd\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheBitAnd\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheBitOr\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheBitXor\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheDiv\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheEq\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheGe\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheGt\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"control\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"ifTrue\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"ifFalse\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"fheIfThenElse\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheLe\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheLt\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheMax\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheMin\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheMul\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheNe\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"ct\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"fheNeg\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"ct\",\n        type: \"bytes32\",\n      },\n    ],\n    name: \"fheNot\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"enum FheType\",\n        name: \"randType\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"fheRand\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"upperBound\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"enum FheType\",\n        name: \"randType\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"fheRandBounded\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheRem\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheRotl\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheRotr\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheShl\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheShr\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"lhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes32\",\n        name: \"rhs\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes1\",\n        name: \"scalarByte\",\n        type: \"bytes1\",\n      },\n    ],\n    name: \"fheSub\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getInputVerifierAddress\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"ct\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"enum FheType\",\n        name: \"toType\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"trivialEncrypt\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"inputHandle\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"address\",\n        name: \"callerAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"inputProof\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"enum FheType\",\n        name: \"inputType\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"verifyCiphertext\",\n    outputs: [\n      {\n        internalType: \"bytes32\",\n        name: \"result\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n] as const;\n\nexport class IFHEVMExecutor__factory {\n  static readonly abi = _abi;\n  static createInterface(): IFHEVMExecutorInterface {\n    return new Interface(_abi) as IFHEVMExecutorInterface;\n  }\n  static connect(\n    address: string,\n    runner?: ContractRunner | null\n  ): IFHEVMExecutor {\n    return new Contract(address, _abi, runner) as unknown as IFHEVMExecutor;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAElB;AAAA;;;AAMA,MAAM,OAAO;IACX;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;CACD;AAEM,MAAM;IAEX,OAAO,kBAA2C;QAChD,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QACL,OAAe,EACf,MAA8B,EACd;QAChB,OAAO,IAAI,2KAAQ,CAAC,SAAS,MAAM;IACrC;AACF;AAVE,qLADW,yBACK,OAAM","debugId":null}},
    {"offset": {"line": 2015, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/Impl.sol/IInputVerifier__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\n\nimport { Contract, Interface, type ContractRunner } from \"ethers\";\nimport type {\n  IInputVerifier,\n  IInputVerifierInterface,\n} from \"../../../../../@fhevm/solidity/lib/Impl.sol/IInputVerifier\";\n\nconst _abi = [\n  {\n    inputs: [],\n    name: \"cleanTransientStorage\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n] as const;\n\nexport class IInputVerifier__factory {\n  static readonly abi = _abi;\n  static createInterface(): IInputVerifierInterface {\n    return new Interface(_abi) as IInputVerifierInterface;\n  }\n  static connect(\n    address: string,\n    runner?: ContractRunner | null\n  ): IInputVerifier {\n    return new Contract(address, _abi, runner) as unknown as IInputVerifier;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAElB;AAAA;;;AAMA,MAAM,OAAO;IACX;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;CACD;AAEM,MAAM;IAEX,OAAO,kBAA2C;QAChD,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QACL,OAAe,EACf,MAA8B,EACd;QAChB,OAAO,IAAI,2KAAQ,CAAC,SAAS,MAAM;IACrC;AACF;AAVE,qLADW,yBACK,OAAM","debugId":null}},
    {"offset": {"line": 2049, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/Impl.sol/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport { IACL__factory } from \"./IACL__factory\";\nexport { IFHEVMExecutor__factory } from \"./IFHEVMExecutor__factory\";\nexport { IInputVerifier__factory } from \"./IInputVerifier__factory\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB;AACA;AACA","debugId":null}},
    {"offset": {"line": 2079, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/lib/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport * as fheSol from \"./FHE.sol\";\nexport * as implSol from \"./Impl.sol\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB;AAAA;AACA;AAAA","debugId":null}},
    {"offset": {"line": 2108, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/solidity/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport * as config from \"./config\";\nexport * as lib from \"./lib\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB;AAAA;AACA;AAAA","debugId":null}},
    {"offset": {"line": 2137, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/%40fhevm/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport * as solidity from \"./solidity\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB;AAAA","debugId":null}},
    {"offset": {"line": 2159, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/contracts/EncryptedArtifactVoting__factory.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nimport {\n  Contract,\n  ContractFactory,\n  ContractTransactionResponse,\n  Interface,\n} from \"ethers\";\nimport type { Signer, ContractDeployTransaction, ContractRunner } from \"ethers\";\nimport type { NonPayableOverrides } from \"../../common\";\nimport type {\n  EncryptedArtifactVoting,\n  EncryptedArtifactVotingInterface,\n} from \"../../contracts/EncryptedArtifactVoting\";\n\nconst _abi = [\n  {\n    inputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint32\",\n        name: \"yesVotes\",\n        type: \"uint32\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint32\",\n        name: \"noVotes\",\n        type: \"uint32\",\n      },\n      {\n        indexed: false,\n        internalType: \"bool\",\n        name: \"approved\",\n        type: \"bool\",\n      },\n    ],\n    name: \"ResultsDecrypted\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"string\",\n        name: \"artifactName\",\n        type: \"string\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"requester\",\n        type: \"address\",\n      },\n    ],\n    name: \"TransferRequestCreated\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"voter\",\n        type: \"address\",\n      },\n    ],\n    name: \"VoteSubmitted\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"voter\",\n        type: \"address\",\n      },\n    ],\n    name: \"VoterAuthorized\",\n    type: \"event\",\n  },\n  {\n    inputs: [],\n    name: \"admin\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes\",\n        name: \"encryptedArtifactName\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"encryptedDescription\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"address[]\",\n        name: \"authorizedVoters\",\n        type: \"address[]\",\n      },\n    ],\n    name: \"createTransferRequest\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"decryptResults\",\n    outputs: [\n      {\n        internalType: \"uint32\",\n        name: \"\",\n        type: \"uint32\",\n      },\n      {\n        internalType: \"uint32\",\n        name: \"\",\n        type: \"uint32\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"uint32\",\n        name: \"finalYesCount\",\n        type: \"uint32\",\n      },\n      {\n        internalType: \"uint32\",\n        name: \"finalNoCount\",\n        type: \"uint32\",\n      },\n    ],\n    name: \"finalizeResults\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getAllRequestIds\",\n    outputs: [\n      {\n        internalType: \"uint256[]\",\n        name: \"\",\n        type: \"uint256[]\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getAuthorizedVoterCount\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getEncryptedVoteCounts\",\n    outputs: [\n      {\n        internalType: \"euint32\",\n        name: \"yesVotes\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"euint32\",\n        name: \"noVotes\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"euint32\",\n        name: \"totalVotes\",\n        type: \"bytes32\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getTransferRequest\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"id\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"string\",\n        name: \"artifactName\",\n        type: \"string\",\n      },\n      {\n        internalType: \"string\",\n        name: \"description\",\n        type: \"string\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"encryptedArtifactName\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"encryptedDescription\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"address\",\n        name: \"requester\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"createdAt\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"bool\",\n        name: \"active\",\n        type: \"bool\",\n      },\n      {\n        internalType: \"bool\",\n        name: \"decrypted\",\n        type: \"bool\",\n      },\n      {\n        internalType: \"uint32\",\n        name: \"finalYesCount\",\n        type: \"uint32\",\n      },\n      {\n        internalType: \"uint32\",\n        name: \"finalNoCount\",\n        type: \"uint32\",\n      },\n      {\n        internalType: \"bool\",\n        name: \"approved\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"address\",\n        name: \"voter\",\n        type: \"address\",\n      },\n    ],\n    name: \"hasVoted\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"address\",\n        name: \"voter\",\n        type: \"address\",\n      },\n    ],\n    name: \"isAuthorizedVoter\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"protocolId\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"pure\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"uint8\",\n        name: \"vote\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"simpleVote\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"requestId\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"externalEuint8\",\n        name: \"vote\",\n        type: \"bytes32\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"inputProof\",\n        type: \"bytes\",\n      },\n    ],\n    name: \"submitVote\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n] as const;\n\nconst _bytecode =\n  \"0x608060405234801561000f575f5ffd5b5061018a6100ae604080516080810182525f80825260208201819052918101829052606081019190915250604080516080810182527350157cffd6bbfa2dece204a89ec419c23ef5755d815273cd3ab3bd6bcc0c0bf3e27912a92043e817b1cf69602082015273a02cda4ca3a71d7c46997716f4283aa851c2881291810191909152731364cbbf2cdf5032c47d8226a6f6fbd2afcdacac606082015290565b80517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970080546001600160a01b03199081166001600160a01b039384161790915560208301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497018054831691841691909117905560408301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497028054831691841691909117905560608301517f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497038054909216921691909117905550565b5f80546001600160a01b03191633179055611c9a806101a85f395ff3fe608060405234801561000f575f5ffd5b50600436106100da575f3560e01c806399807e4c11610088578063d36f424d11610063578063d36f424d1461023f578063da1f12ab14610252578063ec1e6bd61461025a578063f851a4401461026f575f5ffd5b806399807e4c146101ac578063ab17e8f7146101d7578063b1b2409c14610207575f5ffd5b806343859632116100b8578063438596321461015557806381ddb364146101785780639929380214610199575f5ffd5b80630425c357146100de57806319ec0791146100f35780633fb7510114610142575b5f5ffd5b6100f16100ec366004611674565b610299565b005b6101226101013660046116c3565b5f90815260016020526040902060088101546009820154600a909201549092565b604080519384526020840192909252908201526060015b60405180910390f35b6100f16101503660046116f2565b610598565b610168610163366004611741565b610719565b6040519015158152602001610139565b61018b6101863660046116c3565b610745565b604051908152602001610139565b6100f16101a736600461176b565b610760565b6101bf6101ba3660046116c3565b6109d9565b6040516101399c9b9a999897969594939291906117cc565b6101ea6101e53660046116c3565b610cbf565b6040805163ffffffff938416815292909116602083015201610139565b610168610215366004611741565b5f9182526003602090815260408084206001600160a01b0393909316845291905290205460ff1690565b61018b61024d36600461187d565b610e20565b61271161018b565b61026261105c565b604051610139919061194d565b5f54610281906001600160a01b031681565b6040516001600160a01b039091168152602001610139565b5f84815260016020526040902060070154849060ff166102f95760405162461bcd60e51b815260206004820152601660248201527514995c5d595cdd08191bd95cc81b9bdd08195e1a5cdd60521b60448201526064015b60405180910390fd5b5f858152600360209081526040808320338452909152902054859060ff166103635760405162461bcd60e51b815260206004820152601460248201527f4e6f7420617574686f72697a656420766f74657200000000000000000000000060448201526064016102f0565b5f868152600460209081526040808320338452909152902054869060ff16156103be5760405162461bcd60e51b815260206004820152600d60248201526c105b1c9958591e481d9bdd1959609a1b60448201526064016102f0565b5f8781526001602090815260408083208151601f8901849004840281018401909252878252929161040a918a918a908a90819084018382808284375f920191909152506110b292505050565b90505f6104546104238361041e60016110c6565b6110d5565b61042d60016110c6565b61044f61043d8661041e5f6110c6565b6104465f6110c6565b61044f5f6110c6565b611103565b90505f6104616001611117565b905061048b846008015461048661047c8561041e60016110c6565b8461044f5f611117565b611129565b600885015560098401546104a99061048661047c8561041e5f6110c6565b6009850155600a8401546104bd9082611129565b600a85015560088401546104d090611157565b506104de8460090154611157565b506104ec84600a0154611157565b5060088401545f5461050791906001600160a01b0316611166565b5060098401545f5461052291906001600160a01b0316611166565b50600a8401545f5461053d91906001600160a01b0316611166565b505f8b8152600460209081526040808320338085529252808320805460ff191660011790555190918d917ff4a95e0ccff9e012051fb09885c2134c4034ed409e70914a95e1f7c561d206fd9190a35050505050505050505050565b5f83815260016020526040902060070154839060ff166105f35760405162461bcd60e51b815260206004820152601660248201527514995c5d595cdd08191bd95cc81b9bdd08195e1a5cdd60521b60448201526064016102f0565b5f848152600160205260409020600b81015460ff16156106555760405162461bcd60e51b815260206004820152601160248201527f416c72656164792066696e616c697a656400000000000000000000000000000060448201526064016102f0565b600b8101805460ff19690100000000000000000063ffffffff87811690891681811183029390931669ff0000000000000000ff1965010000000000830268ffffffff00000000001961010087021668ffffffffffffffff0019909716969096179590951794909416939093176001179384905560408051928352602083019390935290920460ff1615159082015285907f2f6a8244ff4b19360a84b53fa1d3ca2bc12e7588adf1c4ce18bae6c93bb210299060600160405180910390a25050505050565b5f8281526004602090815260408083206001600160a01b038516845290915290205460ff165b92915050565b6002545f90610754575f610757565b60015b60ff1692915050565b5f82815260016020526040902060070154829060ff166107bb5760405162461bcd60e51b815260206004820152601660248201527514995c5d595cdd08191bd95cc81b9bdd08195e1a5cdd60521b60448201526064016102f0565b5f838152600360209081526040808320338452909152902054839060ff166108255760405162461bcd60e51b815260206004820152601460248201527f4e6f7420617574686f72697a656420766f74657200000000000000000000000060448201526064016102f0565b5f848152600460209081526040808320338452909152902054849060ff16156108805760405162461bcd60e51b815260206004820152600d60248201526c105b1c9958591e481d9bdd1959609a1b60448201526064016102f0565b60ff8416158061089357508360ff166001145b6108df5760405162461bcd60e51b815260206004820152601360248201527f566f7465206d7573742062652030206f7220310000000000000000000000000060448201526064016102f0565b5f8581526001602081905260409091209060ff8616900361094157600181600b0160018282829054906101000a900463ffffffff1661091e91906119a3565b92506101000a81548163ffffffff021916908363ffffffff160217905550610984565b600181600b0160058282829054906101000a900463ffffffff1661096591906119a3565b92506101000a81548163ffffffff021916908363ffffffff1602179055505b5f868152600460209081526040808320338085529252808320805460ff1916600117905551909188917ff4a95e0ccff9e012051fb09885c2134c4034ed409e70914a95e1f7c561d206fd9190a3505050505050565b5f81815260016020819052604082208054600582015460068301546007840154600b85015495850180546060978897889788978c978897889788978897889788979096909593946002880194600389019460048a01946001600160a01b0390941693919260ff908116928082169263ffffffff6101008304811693650100000000008404909116926901000000000000000000900416908b90610a7b906119bf565b80601f0160208091040260200160405190810160405280929190818152602001828054610aa7906119bf565b8015610af25780601f10610ac957610100808354040283529160200191610af2565b820191905f5260205f20905b815481529060010190602001808311610ad557829003601f168201915b50505050509a50898054610b05906119bf565b80601f0160208091040260200160405190810160405280929190818152602001828054610b31906119bf565b8015610b7c5780601f10610b5357610100808354040283529160200191610b7c565b820191905f5260205f20905b815481529060010190602001808311610b5f57829003601f168201915b50505050509950888054610b8f906119bf565b80601f0160208091040260200160405190810160405280929190818152602001828054610bbb906119bf565b8015610c065780601f10610bdd57610100808354040283529160200191610c06565b820191905f5260205f20905b815481529060010190602001808311610be957829003601f168201915b50505050509850878054610c19906119bf565b80601f0160208091040260200160405190810160405280929190818152602001828054610c45906119bf565b8015610c905780601f10610c6757610100808354040283529160200191610c90565b820191905f5260205f20905b815481529060010190602001808311610c7357829003601f168201915b505050505097509c509c509c509c509c509c509c509c509c509c509c509c505091939597999b5091939597999b565b5f818152600160205260408120600701548190839060ff16610d1c5760405162461bcd60e51b815260206004820152601660248201527514995c5d595cdd08191bd95cc81b9bdd08195e1a5cdd60521b60448201526064016102f0565b5f848152600160205260409020600b81015460ff1615610d7e5760405162461bcd60e51b815260206004820152601160248201527f416c72656164792064656372797074656400000000000000000000000000000060448201526064016102f0565b600b81018054690100000000000000000065010000000000820463ffffffff9081166101008404909116818111830269ff0000000000000000ff19909416939093176001179384905560408051848152602081018390529290940460ff16151582850152925191929188917f2f6a8244ff4b19360a84b53fa1d3ca2bc12e7588adf1c4ce18bae6c93bb21029919081900360600190a290945092505050915091565b6002545f908190610e329060016119f7565b5f81815260016020526040902081815590915060038101610e54898b83611a6a565b5060048101610e64878983611a6a565b5060408051602081019091525f81526001820190610e829082611b24565b5060408051602081019091525f81526002820190610ea09082611b24565b506005810180547fffffffffffffffffffffffff0000000000000000000000000000000000000000163317905542600682015560078101805460ff19166001179055610eeb5f611117565b6008820155610ef95f611117565b6009820155610f075f611117565b600a8201555f5b84811015610fd9575f838152600360205260408120600191888885818110610f3857610f38611bdf565b9050602002016020810190610f4d9190611bf3565b6001600160a01b0316815260208101919091526040015f20805460ff1916911515919091179055858582818110610f8657610f86611bdf565b9050602002016020810190610f9b9190611bf3565b6001600160a01b0316837f3472268c878450e0a658ae0f35954d9f22e16ae6e92cf9322237f8e6a50d982160405160405180910390a3600101610f0e565b50600280546001810182555f9182527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace01839055604080518181529081019190915233602082015282907f6839f9a72d42aa328bd55cea18c7101837e77e341d46accf1cfd02a95d7accb69060600160405180910390a250979650505050505050565b606060028054806020026020016040519081016040528092919081815260200182805480156110a857602002820191905f5260205f20905b815481526020019060010190808311611094575b5050505050905090565b5f6110bf83836002611178565b9392505050565b5f61073f8260ff166002611298565b5f826110e7576110e45f6110c6565b92505b816110f8576110f55f6110c6565b91505b6110bf83835f61134d565b5f61110f848484611448565b949350505050565b5f61073f8263ffffffff166004611298565b5f8261113b576111385f611117565b92505b8161114c576111495f611117565b91505b6110bf83835f6114f1565b5f61116282306115a6565b5090565b5f61117183836115a6565b5090919050565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163196d0b9b60e01b81525f917f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700916001600160a01b039091169063196d0b9b906111f1908890339089908990600401611c2c565b6020604051808303815f875af115801561120d573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906112319190611c62565b8154604051630f8e573b60e21b8152600481018390523360248201529193506001600160a01b031690633e395cec906044015f604051808303815f87803b15801561127a575f5ffd5b505af115801561128c573d5f5f3e3d5ffd5b50505050509392505050565b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e464970154604051639cd07acb60e01b81525f917f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700916001600160a01b0390911690639cd07acb9061130d9087908790600401611c79565b6020604051808303815f875af1158015611329573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061110f9190611c62565b5f5f82156113605750600160f81b611363565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163f77f3f1d60e01b815260048101879052602481018690527fff00000000000000000000000000000000000000000000000000000000000000831660448201527f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700916001600160a01b03169063f77f3f1d906064015b6020604051808303815f875af115801561141a573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061143e9190611c62565b9695505050505050565b5f807f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497006001810154604051637702dcff60e01b81526004810188905260248101879052604481018690529192506001600160a01b031690637702dcff906064016020604051808303815f875af11580156114c4573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906114e89190611c62565b95945050505050565b5f5f82156115045750600160f81b611507565b505f5b7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497015460405163022f65e760e31b815260048101879052602481018690527fff00000000000000000000000000000000000000000000000000000000000000831660448201527f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700916001600160a01b03169063117b2f38906064016113fe565b5f7f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e46497008054604051635ca4b5b160e11b8152600481018690526001600160a01b03858116602483015292935091169063b9496b62906044015f604051808303815f87803b158015611614575f5ffd5b505af1158015611626573d5f5f3e3d5ffd5b50505050505050565b5f5f83601f84011261163f575f5ffd5b50813567ffffffffffffffff811115611656575f5ffd5b60208301915083602082850101111561166d575f5ffd5b9250929050565b5f5f5f5f60608587031215611687575f5ffd5b8435935060208501359250604085013567ffffffffffffffff8111156116ab575f5ffd5b6116b78782880161162f565b95989497509550505050565b5f602082840312156116d3575f5ffd5b5035919050565b803563ffffffff811681146116ed575f5ffd5b919050565b5f5f5f60608486031215611704575f5ffd5b83359250611714602085016116da565b9150611722604085016116da565b90509250925092565b80356001600160a01b03811681146116ed575f5ffd5b5f5f60408385031215611752575f5ffd5b823591506117626020840161172b565b90509250929050565b5f5f6040838503121561177c575f5ffd5b82359150602083013560ff81168114611793575f5ffd5b809150509250929050565b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b8c815261018060208201525f6117e661018083018e61179e565b82810360408401526117f8818e61179e565b9050828103606084015261180c818d61179e565b90508281036080840152611820818c61179e565b9150506001600160a01b03891660a08301528760c083015261184660e083018815159052565b94151561010082015263ffffffff938416610120820152919092166101408201529015156101609091015298975050505050505050565b5f5f5f5f5f5f60608789031215611892575f5ffd5b863567ffffffffffffffff8111156118a8575f5ffd5b6118b489828a0161162f565b909750955050602087013567ffffffffffffffff8111156118d3575f5ffd5b6118df89828a0161162f565b909550935050604087013567ffffffffffffffff8111156118fe575f5ffd5b8701601f8101891361190e575f5ffd5b803567ffffffffffffffff811115611924575f5ffd5b8960208260051b8401011115611938575f5ffd5b60208201935080925050509295509295509295565b602080825282518282018190525f918401906040840190835b81811015611984578351835260209384019390920191600101611966565b509095945050505050565b634e487b7160e01b5f52601160045260245ffd5b63ffffffff818116838216019081111561073f5761073f61198f565b600181811c908216806119d357607f821691505b6020821081036119f157634e487b7160e01b5f52602260045260245ffd5b50919050565b8082018082111561073f5761073f61198f565b634e487b7160e01b5f52604160045260245ffd5b601f821115611a6557805f5260205f20601f840160051c81016020851015611a435750805b601f840160051c820191505b81811015611a62575f8155600101611a4f565b50505b505050565b67ffffffffffffffff831115611a8257611a82611a0a565b611a9683611a9083546119bf565b83611a1e565b5f601f841160018114611ac7575f8515611ab05750838201355b5f19600387901b1c1916600186901b178355611a62565b5f83815260208120601f198716915b82811015611af65786850135825560209485019460019092019101611ad6565b5086821015611b12575f1960f88860031b161c19848701351681555b505060018560011b0183555050505050565b815167ffffffffffffffff811115611b3e57611b3e611a0a565b611b5281611b4c84546119bf565b84611a1e565b6020601f821160018114611b84575f8315611b6d5750848201515b5f19600385901b1c1916600184901b178455611a62565b5f84815260208120601f198516915b82811015611bb35787850151825560209485019460019092019101611b93565b5084821015611bd057868401515f19600387901b60f8161c191681555b50505050600190811b01905550565b634e487b7160e01b5f52603260045260245ffd5b5f60208284031215611c03575f5ffd5b6110bf8261172b565b60548110611c2857634e487b7160e01b5f52602160045260245ffd5b9052565b8481526001600160a01b0384166020820152608060408201525f611c53608083018561179e565b90506114e86060830184611c0c565b5f60208284031215611c72575f5ffd5b5051919050565b828152604081016110bf6020830184611c0c56fea164736f6c634300081b000a\";\n\ntype EncryptedArtifactVotingConstructorParams =\n  | [signer?: Signer]\n  | ConstructorParameters<typeof ContractFactory>;\n\nconst isSuperArgs = (\n  xs: EncryptedArtifactVotingConstructorParams\n): xs is ConstructorParameters<typeof ContractFactory> => xs.length > 1;\n\nexport class EncryptedArtifactVoting__factory extends ContractFactory {\n  constructor(...args: EncryptedArtifactVotingConstructorParams) {\n    if (isSuperArgs(args)) {\n      super(...args);\n    } else {\n      super(_abi, _bytecode, args[0]);\n    }\n  }\n\n  override getDeployTransaction(\n    overrides?: NonPayableOverrides & { from?: string }\n  ): Promise<ContractDeployTransaction> {\n    return super.getDeployTransaction(overrides || {});\n  }\n  override deploy(overrides?: NonPayableOverrides & { from?: string }) {\n    return super.deploy(overrides || {}) as Promise<\n      EncryptedArtifactVoting & {\n        deploymentTransaction(): ContractTransactionResponse;\n      }\n    >;\n  }\n  override connect(\n    runner: ContractRunner | null\n  ): EncryptedArtifactVoting__factory {\n    return super.connect(runner) as EncryptedArtifactVoting__factory;\n  }\n\n  static readonly bytecode = _bytecode;\n  static readonly abi = _abi;\n  static createInterface(): EncryptedArtifactVotingInterface {\n    return new Interface(_abi) as EncryptedArtifactVotingInterface;\n  }\n  static connect(\n    address: string,\n    runner?: ContractRunner | null\n  ): EncryptedArtifactVoting {\n    return new Contract(\n      address,\n      _abi,\n      runner\n    ) as unknown as EncryptedArtifactVoting;\n  }\n}\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;;;;;AAClB;AAAA;AAAA;;;AAaA,MAAM,OAAO;IACX;QACE,QAAQ,EAAE;QACV,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,WAAW;QACX,QAAQ;YACN;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,MAAM;IACR;IACA;QACE,WAAW;QACX,QAAQ;YACN;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,MAAM;IACR;IACA;QACE,WAAW;QACX,QAAQ;YACN;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,MAAM;IACR;IACA;QACE,WAAW;QACX,QAAQ;YACN;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,SAAS;gBACT,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ,EAAE;QACV,MAAM;QACN,SAAS;YACP;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;IACA;QACE,QAAQ;YACN;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;YACA;gBACE,cAAc;gBACd,MAAM;gBACN,MAAM;YACR;SACD;QACD,MAAM;QACN,SAAS,EAAE;QACX,iBAAiB;QACjB,MAAM;IACR;CACD;AAED,MAAM,YACJ;AAMF,MAAM,cAAc,CAClB,KACwD,GAAG,MAAM,GAAG;AAE/D,MAAM,yCAAyC,iLAAe;IAS1D,qBACP,SAAmD,EACf;QACpC,OAAO,KAAK,CAAC,qBAAqB,aAAa,CAAC;IAClD;IACS,OAAO,SAAmD,EAAE;QACnE,OAAO,KAAK,CAAC,OAAO,aAAa,CAAC;IAKpC;IACS,QACP,MAA6B,EACK;QAClC,OAAO,KAAK,CAAC,QAAQ;IACvB;IAIA,OAAO,kBAAoD;QACzD,OAAO,IAAI,wLAAS,CAAC;IACvB;IACA,OAAO,QACL,OAAe,EACf,MAA8B,EACL;QACzB,OAAO,IAAI,2KAAQ,CACjB,SACA,MACA;IAEJ;IAxCA,YAAY,GAAG,IAA8C,CAAE;QAC7D,IAAI,YAAY,OAAO;YACrB,KAAK,IAAI;QACX,OAAO;YACL,KAAK,CAAC,MAAM,WAAW,IAAI,CAAC,EAAE;QAChC;IACF;AAmCF;AAfE,qLA3BW,kCA2BK,YAAW;AAC3B,qLA5BW,kCA4BK,OAAM","debugId":null}},
    {"offset": {"line": 2631, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/contracts/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport { EncryptedArtifactVoting__factory } from \"./EncryptedArtifactVoting__factory\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB","debugId":null}},
    {"offset": {"line": 2651, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/factories/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nexport * as fhevm from \"./@fhevm\";\nexport * as contracts from \"./contracts\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAClB;AAAA;AACA;AAAA","debugId":null}},
    {"offset": {"line": 2680, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/types/index.ts"],"sourcesContent":["/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nimport type * as fhevm from \"./@fhevm\";\nexport type { fhevm };\nimport type * as contracts from \"./contracts\";\nexport type { contracts };\nexport * as factories from \"./factories\";\nexport type { EthereumConfig } from \"./@fhevm/solidity/config/ZamaConfig.sol/EthereumConfig\";\nexport { EthereumConfig__factory } from \"./factories/@fhevm/solidity/config/ZamaConfig.sol/EthereumConfig__factory\";\nexport type { SepoliaConfig } from \"./@fhevm/solidity/config/ZamaConfig.sol/SepoliaConfig\";\nexport { SepoliaConfig__factory } from \"./factories/@fhevm/solidity/config/ZamaConfig.sol/SepoliaConfig__factory\";\nexport type { FHE } from \"./@fhevm/solidity/lib/FHE.sol/FHE\";\nexport { FHE__factory } from \"./factories/@fhevm/solidity/lib/FHE.sol/FHE__factory\";\nexport type { IDecryptionOracle } from \"./@fhevm/solidity/lib/FHE.sol/IDecryptionOracle\";\nexport { IDecryptionOracle__factory } from \"./factories/@fhevm/solidity/lib/FHE.sol/IDecryptionOracle__factory\";\nexport type { IKMSVerifier } from \"./@fhevm/solidity/lib/FHE.sol/IKMSVerifier\";\nexport { IKMSVerifier__factory } from \"./factories/@fhevm/solidity/lib/FHE.sol/IKMSVerifier__factory\";\nexport type { IACL } from \"./@fhevm/solidity/lib/Impl.sol/IACL\";\nexport { IACL__factory } from \"./factories/@fhevm/solidity/lib/Impl.sol/IACL__factory\";\nexport type { IFHEVMExecutor } from \"./@fhevm/solidity/lib/Impl.sol/IFHEVMExecutor\";\nexport { IFHEVMExecutor__factory } from \"./factories/@fhevm/solidity/lib/Impl.sol/IFHEVMExecutor__factory\";\nexport type { IInputVerifier } from \"./@fhevm/solidity/lib/Impl.sol/IInputVerifier\";\nexport { IInputVerifier__factory } from \"./factories/@fhevm/solidity/lib/Impl.sol/IInputVerifier__factory\";\nexport type { EncryptedArtifactVoting } from \"./contracts/EncryptedArtifactVoting\";\nexport { EncryptedArtifactVoting__factory } from \"./factories/contracts/EncryptedArtifactVoting__factory\";\n"],"names":[],"mappings":"AAAA,6CAA6C,GAC7C,kBAAkB,GAClB,kBAAkB;AAKlB;AAAA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA","debugId":null}},
    {"offset": {"line": 2710, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/src/config/contracts.ts"],"sourcesContent":["// Contract addresses - update these after deployment\r\nexport const CONTRACT_ADDRESSES = {\r\n  localhost: '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9', // Deployed on localhost with FHE decryption\r\n  sepolia: '0xd0703851f993c86e5683a6dCFE5fc7ef8E9e4431',  // Deployed on Sepolia\r\n} as const;\r\n\r\nexport const getContractAddress = (chainId: number): string => {\r\n  switch (chainId) {\r\n    case 31337: // localhost (hardhat)\r\n    case 1337:  // localhost (legacy hardhat)\r\n      return CONTRACT_ADDRESSES.localhost;\r\n    case 11155111: // sepolia\r\n      return CONTRACT_ADDRESSES.sepolia;\r\n    default:\r\n      throw new Error(`Unsupported chain ID: ${chainId}`);\r\n  }\r\n};\r\n"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;;AAC9C,MAAM,qBAAqB;IAChC,WAAW;IACX,SAAS;AACX;AAEO,MAAM,qBAAqB,CAAC;IACjC,OAAQ;QACN,KAAK;QACL,KAAK;YACH,OAAO,mBAAmB,SAAS;QACrC,KAAK;YACH,OAAO,mBAAmB,OAAO;QACnC;YACE,MAAM,IAAI,MAAM,AAAC,yBAAgC,OAAR;IAC7C;AACF","debugId":null}},
    {"offset": {"line": 2739, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/src/hooks/useArtifactVoting.ts"],"sourcesContent":["import { useCallback } from 'react';\nimport { useReadContract, useWriteContract, useAccount, useChainId } from 'wagmi';\nimport { EncryptedArtifactVoting__factory } from '../../../types';\nimport { getContractAddress } from '../config/contracts';\n\nexport interface TransferRequest {\n  id: bigint;\n  artifactName: string;\n  description: string;\n  requester: string;\n  createdAt: bigint;\n  active: boolean;\n  decrypted: boolean;\n  finalYesCount: bigint;\n  finalNoCount: bigint;\n  approved: boolean;\n}\n\nexport function useArtifactVoting() {\n  const { address } = useAccount();\n  const chainId = useChainId();\n  const contractAddress = getContractAddress(chainId);\n\n  // Read contract functions\n  const { data: allRequestIds } = useReadContract({\n    address: contractAddress as `0x${string}`,\n    abi: EncryptedArtifactVoting__factory.abi,\n    functionName: 'getAllRequestIds',\n  });\n\n  // Write contract functions\n  const { writeContractAsync } = useWriteContract();\n\n  const createTransferRequest = useCallback(async (\n    artifactName: string,\n    description: string,\n    authorizedVoters: readonly `0x${string}`[]\n  ) => {\n    if (!address) throw new Error('Wallet not connected');\n\n    return await writeContractAsync({\n      address: contractAddress as `0x${string}`,\n      abi: EncryptedArtifactVoting__factory.abi,\n      functionName: 'createTransferRequest',\n      args: [artifactName, description, authorizedVoters],\n    });\n  }, [writeContractAsync, address, contractAddress]);\n\n  const submitVote = useCallback(async (\n    requestId: number,\n    encryptedVote: `0x${string}`,\n    inputProof: `0x${string}`\n  ) => {\n    if (!address) throw new Error('Wallet not connected');\n\n    return await writeContractAsync({\n      address: contractAddress as `0x${string}`,\n      abi: EncryptedArtifactVoting__factory.abi,\n      functionName: 'submitVote',\n      args: [BigInt(requestId), encryptedVote, inputProof],\n    });\n  }, [writeContractAsync, address, contractAddress]);\n\n  const simpleVote = useCallback(async (\n    requestId: number,\n    vote: 0 | 1\n  ) => {\n    if (!address) throw new Error('Wallet not connected');\n\n    return await writeContractAsync({\n      address: contractAddress as `0x${string}`,\n      abi: EncryptedArtifactVoting__factory.abi,\n      functionName: 'simpleVote',\n      args: [BigInt(requestId), vote],\n    });\n  }, [writeContractAsync, address, contractAddress]);\n\n  const decryptResults = useCallback(async (requestId: number) => {\n    if (!address) throw new Error('Wallet not connected');\n\n    return await writeContractAsync({\n      address: contractAddress as `0x${string}`,\n      abi: EncryptedArtifactVoting__factory.abi,\n      functionName: 'decryptResults',\n      args: [BigInt(requestId)],\n    });\n  }, [writeContractAsync, address, contractAddress]);\n\n  const finalizeResults = useCallback(async (\n    requestId: number,\n    finalYesCount: number,\n    finalNoCount: number\n  ) => {\n    if (!address) throw new Error('Wallet not connected');\n\n\n    return await writeContractAsync({\n      address: contractAddress as `0x${string}`,\n      abi: EncryptedArtifactVoting__factory.abi,\n      functionName: 'finalizeResults',\n      args: [BigInt(requestId), finalYesCount, finalNoCount],\n    });\n  }, [writeContractAsync, address, contractAddress]);\n\n  // Note: Read operations should be handled by components using useReadContract directly\n  // to avoid React Hooks rules violations. This hook focuses on write operations.\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const getTransferRequest = useCallback(async (requestId: number): Promise<TransferRequest | null> => {\n    // This should be implemented by components using useReadContract\n    console.warn('getTransferRequest should be called via useReadContract in components');\n    return null;\n  }, []);\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const isAuthorizedVoter = useCallback(async (requestId: number, voter: string): Promise<boolean> => {\n    console.warn('isAuthorizedVoter should be called via useReadContract in components');\n    return false;\n  }, []);\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const hasVoted = useCallback(async (requestId: number, voter: string): Promise<boolean> => {\n    console.warn('hasVoted should be called via useReadContract in components');\n    return false;\n  }, []);\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const getEncryptedVoteCounts = useCallback(async (requestId: number): Promise<{yesVotes: string; noVotes: string; totalVotes: string} | null> => {\n    console.warn('getEncryptedVoteCounts should be called via useReadContract in components');\n    return null;\n  }, []);\n\n  return {\n    // Data\n    allRequestIds,\n\n    // Actions\n    createTransferRequest,\n    submitVote,\n    simpleVote, // Simple non-encrypted voting for testing\n    decryptResults,\n    finalizeResults,\n    getTransferRequest,\n    isAuthorizedVoter,\n    hasVoted,\n    getEncryptedVoteCounts,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2922, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/src/hooks/useVotingWithFHE.ts"],"sourcesContent":["import { useState, useCallback, useMemo } from 'react';\nimport { useAccount, usePublicClient, useChainId } from 'wagmi';\nimport { useFhevm } from '../../fhevm/useFhevm';\nimport { useArtifactVoting } from './useArtifactVoting';\nimport { getContractAddress } from '../config/contracts';\n\n// FHEVM type constants (kept for future use)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst FhevmType = {\n  euint8: 0,\n  euint16: 1,\n  euint32: 2,\n};\n\nexport function useVotingWithFHE() {\n  const { address } = useAccount();\n  const publicClient = usePublicClient();\n  const chainId = useChainId();\n\n  // Fix FHEVM provider initialization based on documentation issues\n  const fhevmProvider = useMemo(() => {\n    if (publicClient?.chain?.id === 31337) {\n      // Localhost: use RPC URL string as expected by useFhevm\n      return \"http://127.0.0.1:8545\";\n    } else if (publicClient?.chain?.id === 11155111) {\n      // Sepolia: use RPC URL string for better compatibility\n      return `https://sepolia.infura.io/v3/${process.env.NEXT_PUBLIC_INFURA_API_KEY || 'b18fb7e6ca7045ac83c41157ab93f990'}`;\n    } else {\n      // For other networks, use raw EIP-1193 provider\n      return typeof window !== \"undefined\" ? window.ethereum : undefined;\n    }\n  }, [publicClient?.chain?.id]);\n\n  // Initialize FHEVM instance\n  const { instance: fhevm, status: fhevmStatus, error: fhevmError } = useFhevm({\n    provider: fhevmProvider,\n    chainId: chainId || 31337,\n    enabled: !!fhevmProvider,\n  });\n\n  const artifactVoting = useArtifactVoting();\n  const [isEncrypting, setIsEncrypting] = useState(false);\n\n  const createEncryptedVote = useCallback(async (vote: 0 | 1): Promise<{ handles: string[], inputProof: string }> => {\n    if (!fhevm || !address) {\n      throw new Error('FHEVM instance not available or wallet not connected');\n    }\n\n    try {\n      setIsEncrypting(true);\n\n      // Create encrypted input for the contract and user\n      const currentContractAddress = getContractAddress(chainId || 31337);\n      const encryptedInput = fhevm.createEncryptedInput(currentContractAddress, address);\n\n      // Add the vote value (0 or 1) as uint8 and encrypt\n      const finalInput = await encryptedInput.add8(vote).encrypt();\n\n      return {\n        handles: finalInput.handles.map(h => '0x' + Buffer.from(h).toString('hex')),\n        inputProof: '0x' + Buffer.from(finalInput.inputProof).toString('hex'),\n      };\n    } catch (error) {\n      console.error('Error encrypting vote:', error);\n      throw error;\n    } finally {\n      setIsEncrypting(false);\n    }\n  }, [fhevm, address, chainId]);\n\n  const getEncryptedVoteCounts = useCallback(async (requestId: number) => {\n    if (!address) {\n      throw new Error('Wallet not connected');\n    }\n\n    try {\n      return await artifactVoting.getEncryptedVoteCounts(requestId);\n    } catch (error) {\n      console.error('Error getting encrypted vote counts:', error);\n      throw error;\n    }\n  }, [address, artifactVoting]);\n\n  const decryptVoteCounts = useCallback(async (\n    requestId: number\n  ): Promise<{ yesVotes: number; noVotes: number }> => {\n    try {\n      // Use ethers directly to get contract data, similar to TransferRequestList\n      const { ethers } = await import('ethers');\n      const provider = new ethers.BrowserProvider(window.ethereum!);\n      const contract = new ethers.Contract(\n        getContractAddress(31337),\n        artifactVoting.interface || artifactVoting.abi,\n        provider\n      );\n\n      const requestData = await contract.getTransferRequest(requestId);\n\n      if (!requestData) {\n        console.log('No request data found for ID:', requestId);\n        return { yesVotes: 0, noVotes: 0 };\n      }\n\n      // Extract vote counts - requestData is an array\n      const finalYesCount = Number(requestData[7]); // finalYesCount\n      const finalNoCount = Number(requestData[8]); // finalNoCount\n\n      console.log('Decrypted vote counts for request', requestId, ':', { finalYesCount, finalNoCount });\n\n      return {\n        yesVotes: finalYesCount || 0,\n        noVotes: finalNoCount || 0\n      };\n    } catch (error) {\n      console.error('Error decrypting vote counts:', error);\n      return { yesVotes: 0, noVotes: 0 };\n    }\n  }, [artifactVoting]);\n\n  const submitEncryptedVote = useCallback(async (requestId: number, vote: 0 | 1) => {\n    if (!fhevm || !address) {\n      throw new Error('FHEVM instance not available or wallet not connected');\n    }\n\n    try {\n      setIsEncrypting(true);\n\n      // Create encrypted vote using FHEVM\n      const encryptedVote = await createEncryptedVote(vote);\n\n      // Submit the vote to the contract\n      await artifactVoting.submitVote(\n        requestId,\n        encryptedVote.handles[0] as `0x${string}`, // externalEuint8\n        encryptedVote.inputProof as `0x${string}`  // inputProof as bytes\n      );\n\n      return true;\n    } catch (error) {\n      console.error('Error submitting encrypted vote:', error);\n      throw error;\n    } finally {\n      setIsEncrypting(false);\n    }\n  }, [fhevm, address, createEncryptedVote, artifactVoting]);\n\n  return {\n    // FHEVM status\n    fhevmReady: fhevmStatus === 'ready',\n    fhevmError,\n    isEncrypting,\n\n    // Contract operations\n    ...artifactVoting,\n    simpleVote: artifactVoting.simpleVote, // Include simpleVote for demo\n\n    // FHE-enhanced operations\n    createEncryptedVote,\n    submitEncryptedVote,\n    decryptVoteCounts,\n    getEncryptedVoteCounts,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3119, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/src/components/CreateTransferRequest.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useAccount, useChainId } from 'wagmi';\nimport { useVotingWithFHE } from '../hooks/useVotingWithFHE';\n\ninterface CreateTransferRequestProps {\n  onBack: () => void;\n  onSuccess?: () => void;\n}\n\nexport function CreateTransferRequest({ onBack, onSuccess }: CreateTransferRequestProps) {\n  const { isConnected } = useAccount();\n  const chainId = useChainId();\n  const { createTransferRequest, fhevmReady } = useVotingWithFHE();\n  const [artifactName, setArtifactName] = useState('');\n  const [description, setDescription] = useState('');\n  const [authorizedVoters, setAuthorizedVoters] = useState<`0x${string}`[]>(['' as `0x${string}`]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const addVoter = () => {\n    setAuthorizedVoters([...authorizedVoters, '' as `0x${string}`]);\n  };\n\n  const removeVoter = (index: number) => {\n    if (authorizedVoters.length > 1) {\n      setAuthorizedVoters(authorizedVoters.filter((_, i) => i !== index));\n    }\n  };\n\n  const updateVoter = (index: number, address: string) => {\n    const newVoters = [...authorizedVoters];\n    newVoters[index] = address as `0x${string}`;\n    setAuthorizedVoters(newVoters);\n  };\n\n  const isValidAddress = (addr: string) => {\n    return /^0x[a-fA-F0-9]{40}$/.test(addr);\n  };\n\n  const isFormValid = () => {\n    const validVoters = authorizedVoters.filter(voter => voter.trim() && isValidAddress(voter.trim()));\n    return (\n      artifactName.trim() &&\n      description.trim() &&\n      validVoters.length > 0\n    );\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!isFormValid() || !isConnected || !fhevmReady) return;\n\n    // Check if connected to the correct network (Hardhat localhost)\n    if (chainId !== 31337) {\n      console.warn('Please connect to the Hardhat Localhost network in your wallet.');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      // Encrypt sensitive data using FHEVM\n      const encryptedArtifactName = await encryptString(artifactName);\n      const encryptedDescription = await encryptString(description);\n\n      await createTransferRequest(\n        encryptedArtifactName,\n        encryptedDescription,\n        authorizedVoters.filter(v => v.trim() && isValidAddress(v.trim())) as readonly `0x${string}`[]\n      );\n\n      // Transfer request created successfully\n      console.log('Calling onSuccess callback');\n      onSuccess?.(); // Trigger refresh before going back\n\n      // Add a small delay to ensure data is updated before navigating back\n      setTimeout(() => {\n        onBack();\n      }, 1000);\n    } catch (error: any) {\n      console.error('Error creating transfer request:', error);\n\n      // Provide more specific error messages\n      let errorMessage = 'Failed to create transfer request. ';\n      if (error.message?.includes('network')) {\n        errorMessage += 'Please ensure you are connected to the Hardhat Localhost network.';\n      } else if (error.message?.includes('gas')) {\n        errorMessage += 'Transaction failed due to gas issues.';\n      } else {\n        errorMessage += 'Please check the console for details and try again.';\n      }\n\n      console.error('Create transfer request error:', errorMessage);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Helper function to encrypt strings using FHEVM\n  const encryptString = async (text: string): Promise<`0x${string}`> => {\n    try {\n      // Convert string to bytes\n      const encoder = new TextEncoder();\n      const bytes = encoder.encode(text);\n\n      // For demo purposes, we'll create a simple encrypted representation\n      // In a real implementation, this would use proper FHE encryption\n      const encrypted = new Uint8Array(bytes.length + 4);\n      // Add length prefix\n      new DataView(encrypted.buffer).setUint32(0, bytes.length, true);\n      // Add data\n      encrypted.set(bytes, 4);\n\n      // Convert to hex string for Solidity\n      const hexString = '0x' + Array.from(encrypted)\n        .map(b => b.toString(16).padStart(2, '0'))\n        .join('');\n\n      return hexString as `0x${string}`;\n    } catch (error) {\n      console.error('Error encrypting string:', error);\n      throw error;\n    }\n  };\n\n  if (!isConnected) {\n    return (\n      <div className=\"panel-card\">\n        <h2 style={{\n          fontSize: '1.5rem',\n          fontWeight: 700,\n          color: 'rgba(0, 0, 0, 0.9)',\n          marginBottom: '16px'\n        }}>\n          Create Transfer Request\n        </h2>\n        <p style={{\n          color: 'rgba(0, 0, 0, 0.7)',\n          marginBottom: '24px'\n        }}>Please connect your wallet to create a transfer request.</p>\n        <button onClick={onBack} className=\"btn btn-secondary\">\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"panel-card\">\n      <h2 style={{\n        fontSize: '1.5rem',\n        fontWeight: 700,\n        color: 'rgba(0, 0, 0, 0.9)',\n        marginBottom: '24px'\n      }}>\n        Create Artifact Transfer Request\n      </h2>\n\n      <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n        <div>\n          <label style={{\n            fontSize: '0.875rem',\n            fontWeight: 600,\n            color: 'rgba(0, 0, 0, 0.8)',\n            marginBottom: '8px',\n            display: 'block'\n          }}>\n            Artifact Name *\n          </label>\n          <input\n            type=\"text\"\n            value={artifactName}\n            onChange={(e) => setArtifactName(e.target.value)}\n            placeholder=\"e.g., Ancient Ceramic Vase #42\"\n            className=\"form-input\"\n            style={{ color: 'rgba(0, 0, 0, 0.9)' }}\n            required\n          />\n        </div>\n\n        <div>\n          <label style={{\n            fontSize: '0.875rem',\n            fontWeight: 600,\n            color: 'rgba(0, 0, 0, 0.8)',\n            marginBottom: '8px',\n            display: 'block'\n          }}>\n            Description *\n          </label>\n          <textarea\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            placeholder=\"Describe the artifact and transfer details...\"\n            rows={4}\n            className=\"form-textarea\"\n            style={{ color: 'rgba(0, 0, 0, 0.9)' }}\n            required\n          />\n        </div>\n\n        <div>\n          <label style={{\n            fontSize: '0.875rem',\n            fontWeight: 600,\n            color: 'rgba(0, 0, 0, 0.8)',\n            marginBottom: '8px',\n            display: 'block'\n          }}>\n            Authorized Voters *\n          </label>\n          <p style={{\n            fontSize: '0.875rem',\n            color: 'rgba(0, 0, 0, 0.6)',\n            marginBottom: '16px'\n          }}>\n            Add Ethereum addresses of users authorized to vote on this transfer request.\n          </p>\n\n          {authorizedVoters.map((voter, index) => (\n            <div key={index} style={{ display: 'flex', gap: '12px', marginBottom: '12px', alignItems: 'center' }}>\n              <input\n                type=\"text\"\n                value={voter}\n                onChange={(e) => updateVoter(index, e.target.value)}\n                placeholder=\"0x1234...abcd\"\n                style={{\n                  flex: 1,\n                  padding: '0.75rem 1rem',\n                  border: voter && !isValidAddress(voter) ? '1px solid #ef4444' : '1px solid rgba(255, 255, 255, 0.2)',\n                  borderRadius: '8px',\n                  background: 'rgba(255, 255, 255, 0.05)',\n                  color: 'rgba(0, 0, 0, 0.9)',\n                  outline: 'none',\n                  fontSize: '1rem',\n                  fontWeight: 400,\n                  transition: 'all 0.2s ease',\n                  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)'\n                }}\n              />\n              {authorizedVoters.length > 1 && (\n                <button\n                  type=\"button\"\n                  onClick={() => removeVoter(index)}\n                  style={{\n                    padding: '0.75rem 1rem',\n                    background: 'linear-gradient(135deg, #dc2626, #b91c1c)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '8px',\n                    cursor: 'pointer',\n                    fontWeight: 500,\n                    fontSize: '0.875rem',\n                    transition: 'all 0.2s ease',\n                    boxShadow: '0 4px 12px rgba(220, 38, 38, 0.4)',\n                    whiteSpace: 'nowrap'\n                  }}\n                >\n                  Remove\n                </button>\n              )}\n            </div>\n          ))}\n\n          <button\n            type=\"button\"\n            onClick={addVoter}\n            style={{\n              padding: '0.75rem 1.5rem',\n              background: 'linear-gradient(135deg, #10b981, #059669)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              fontWeight: 500,\n              fontSize: '0.875rem',\n              transition: 'all 0.2s ease',\n              boxShadow: '0 4px 12px rgba(16, 185, 129, 0.4)',\n              alignSelf: 'flex-start',\n              marginTop: '8px'\n            }}\n          >\n            + Add Voter\n          </button>\n        </div>\n\n        <div style={{\n          display: 'flex',\n          gap: '16px',\n          paddingTop: '24px',\n          borderTop: '1px solid rgba(0, 0, 0, 0.1)',\n          marginTop: '32px'\n        }}>\n          <button\n            type=\"button\"\n            onClick={onBack}\n            style={{\n              padding: '0.75rem 1.5rem',\n              background: 'linear-gradient(135deg, #6b7280, #4b5563)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              fontWeight: 500,\n              fontSize: '0.875rem',\n              transition: 'all 0.2s ease',\n              boxShadow: '0 4px 12px rgba(107, 114, 128, 0.4)',\n              flex: '0 0 auto'\n            }}\n          >\n            Back\n          </button>\n          <button\n            type=\"submit\"\n            disabled={!isFormValid() || isSubmitting}\n            style={{\n              flex: 1,\n              padding: '0.75rem 1.5rem',\n              background: !isFormValid() || isSubmitting\n                ? 'linear-gradient(135deg, #9ca3af, #6b7280)'\n                : 'linear-gradient(135deg, #6366f1, #8b5cf6)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: !isFormValid() || isSubmitting ? 'not-allowed' : 'pointer',\n              fontWeight: 500,\n              fontSize: '0.875rem',\n              transition: 'all 0.2s ease',\n              boxShadow: !isFormValid() || isSubmitting\n                ? '0 2px 8px rgba(0, 0, 0, 0.2)'\n                : '0 4px 12px rgba(99, 102, 241, 0.4)',\n              opacity: !isFormValid() || isSubmitting ? 0.5 : 1\n            }}\n          >\n            {isSubmitting ? (\n              <span style={{ display: 'flex', alignItems: 'center', gap: '8px', justifyContent: 'center' }}>\n                <div style={{\n                  width: '16px',\n                  height: '16px',\n                  border: '2px solid rgba(255, 255, 255, 0.3)',\n                  borderTop: '2px solid white',\n                  borderRadius: '50%',\n                  animation: 'spin 1s linear infinite'\n                }}></div>\n                Creating...\n              </span>\n            ) : (\n              'Create Request'\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3606, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/src/components/TransferRequestList.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAccount, useReadContract } from 'wagmi';\nimport { TransferRequest } from '../hooks/useArtifactVoting';\nimport { EncryptedArtifactVoting__factory } from '../../../types';\nimport { getContractAddress } from '../config/contracts';\nimport { ethers } from 'ethers';\n\ninterface TransferRequestListProps {\n  onVoteRequest: (requestId: number) => void;\n  onDecryptRequest: (requestId: number) => void;\n  refreshTrigger?: number;\n}\n\nexport function TransferRequestList({ onVoteRequest, onDecryptRequest, refreshTrigger }: TransferRequestListProps) {\n  const { address, chainId } = useAccount();\n  const [requests, setRequests] = useState<(TransferRequest & { canVote: boolean; canDecrypt: boolean })[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const contractAddress = getContractAddress(chainId || 31337);\n\n  // Use useReadContract directly to get all request IDs\n  const { data: allRequestIds, refetch, isLoading, contractError } = useReadContract({\n    address: contractAddress as `0x${string}`,\n    abi: EncryptedArtifactVoting__factory.abi,\n    functionName: 'getAllRequestIds',\n    query: {\n      enabled: !!contractAddress, // Remove chainId dependency for now\n    },\n  });\n\n  console.log('TransferRequestList useEffect triggered, refreshTrigger:', refreshTrigger);\n\n  useEffect(() => {\n    const loadRequests = async () => {\n      console.log('loadRequests called with:', { allRequestIds, address, refreshTrigger });\n\n      // Refetch data when refreshTrigger changes\n      if (refreshTrigger && refreshTrigger > 0) {\n        console.log('Refetching data due to refresh trigger');\n        await refetch();\n      }\n\n      // Handle allRequestIds - it might be a Result object from ethers\n      let requestIds: any[] = [];\n\n      if (allRequestIds) {\n        // Handle ethers Result object\n        if (Array.isArray(allRequestIds)) {\n          requestIds = allRequestIds;\n        } else if (allRequestIds.length !== undefined) {\n          // It's a Result object, convert to array\n          requestIds = Array.from(allRequestIds);\n        } else {\n          console.error('Unexpected allRequestIds format:', allRequestIds);\n          requestIds = [];\n        }\n      }\n\n      // If still no requestIds, try manual call\n      if (!requestIds || requestIds.length === 0) {\n        console.log('No requestIds from hook, trying manual call...');\n        try {\n          const provider = new ethers.BrowserProvider(window.ethereum!);\n          const contract = new ethers.Contract(\n            contractAddress,\n            EncryptedArtifactVoting__factory.abi,\n            provider\n          );\n\n          // First check if contract exists\n          const code = await provider.getCode(contractAddress);\n          if (code === '0x') {\n            const errorMsg = `Contract not deployed at address: ${contractAddress}. Please redeploy the contract.`;\n            console.error('', errorMsg);\n            setError(errorMsg);\n            setRequests([]);\n            setLoading(false);\n            return;\n          }\n\n          const manualResult = await contract.getAllRequestIds();\n          console.log(' Manual call result:', manualResult);\n\n          // Handle manual result - might also be a Result object\n          if (Array.isArray(manualResult)) {\n            requestIds = manualResult;\n          } else if (manualResult && manualResult.length !== undefined) {\n            requestIds = Array.from(manualResult);\n          } else {\n            requestIds = [];\n          }\n\n        } catch (manualError: any) {\n          const errorMsg = `Failed to load transfer requests: ${manualError.message}. This usually means the contract needs to be redeployed.`;\n          console.error('', errorMsg);\n          setError(errorMsg);\n          setRequests([]);\n          setLoading(false);\n          return;\n        }\n      }\n\n\n      // Ensure requestIds is actually iterable\n      if (!requestIds) {\n        console.log('requestIds is null/undefined');\n        setRequests([]);\n        setLoading(false);\n        return;\n      }\n\n      // Convert to proper array if needed\n      let iterableIds: any[] = [];\n      try {\n        if (Array.isArray(requestIds)) {\n          iterableIds = requestIds;\n        } else if (requestIds.length !== undefined && typeof requestIds[Symbol.iterator] === 'function') {\n          // It's iterable, convert to array\n          iterableIds = Array.from(requestIds);\n        } else {\n          console.error('requestIds is not iterable:', requestIds);\n          setRequests([]);\n          setLoading(false);\n          return;\n        }\n      } catch (error) {\n        console.error('Error processing requestIds:', error);\n        setRequests([]);\n        setLoading(false);\n        return;\n      }\n\n      console.log('Using iterableIds:', iterableIds);\n\n      if (iterableIds.length === 0) {\n        console.log('No requests found');\n        setRequests([]);\n        setLoading(false);\n        return;\n      }\n\n      if (!address) {\n        console.log('Skipping loadRequests - wallet not connected');\n        return;\n      }\n\n      try {\n        // Import ethers here to avoid SSR issues\n        const { ethers } = await import('ethers');\n\n        // Create a read-only provider\n        const provider = new ethers.BrowserProvider(window.ethereum!);\n        const contract = new ethers.Contract(\n          contractAddress,\n          EncryptedArtifactVoting__factory.abi,\n          provider\n        );\n\n        // Load requests sequentially to avoid overwhelming the development server\n        const loadedRequests: (TransferRequest & { canVote: boolean; canDecrypt: boolean })[] = [];\n        for (const id of iterableIds) {\n          try {\n            console.log('Fetching request for id:', id);\n            const request = await contract.getTransferRequest(id);\n            if (!request) continue;\n\n            // Check voter authorization and voting status sequentially\n            const isAuthorized = await contract.isAuthorizedVoter(id, address);\n            const hasAlreadyVoted = await contract.hasVoted(id, address);\n\n            const transferRequest: TransferRequest = {\n              id: BigInt(request[0]),\n              artifactName: request[1] || '',\n              description: request[2] || '',\n              requester: request[3],\n              createdAt: BigInt(request[6]), // createdAt is at index 6\n              active: request[7], // active is at index 7\n              decrypted: request[8], // decrypted is at index 8\n              finalYesCount: BigInt(request[9]), // finalYesCount is at index 9\n              finalNoCount: BigInt(request[10]), // finalNoCount is at index 10\n              approved: request[11], // approved is at index 11\n            };\n\n            // Decrypt encrypted data for display\n            let displayName = transferRequest.artifactName;\n            let displayDescription = transferRequest.description;\n\n            if (request[3] && request[3].length > 0) {\n              // Has encrypted artifact name (index 3), try to decrypt\n              try {\n                displayName = await decryptBytes(request[3]);\n                console.log('Decrypted artifact name:', `\"${displayName}\"`, 'from:', request[3]);\n              } catch (error) {\n                console.log('Could not decrypt artifact name:', error, 'using plaintext');\n              }\n            }\n\n            if (request[4] && request[4].length > 0) {\n              // Has encrypted description (index 4), try to decrypt\n              try {\n                displayDescription = await decryptBytes(request[4]);\n                console.log('Decrypted description:', `\"${displayDescription}\"`, 'from:', request[4]);\n              } catch (error) {\n                console.log('Could not decrypt description:', error, 'using plaintext');\n              }\n            }\n\n            transferRequest.artifactName = displayName;\n            transferRequest.description = displayDescription;\n\n            loadedRequests.push({\n              ...transferRequest,\n              canVote: isAuthorized && !hasAlreadyVoted && transferRequest.active && !transferRequest.decrypted,\n              canDecrypt: true, // Anyone can always decrypt/view results\n            });\n          } catch (error) {\n            console.error(`Error loading request ${id}:`, error);\n            // Continue with other requests even if one fails\n          }\n        }\n\n        const filteredRequests = loadedRequests.filter(req => req !== null) as (TransferRequest & { canVote: boolean; canDecrypt: boolean })[];\n        setRequests(filteredRequests);\n      } catch (error: any) {\n        console.error('Error loading requests:', error);\n        setError(`Failed to load transfer requests: ${error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadRequests();\n  }, [allRequestIds, address, contractAddress, refreshTrigger]);\n\n  // Additional effect to force re-render when request data changes\n  useEffect(() => {\n    if (allRequestIds && allRequestIds.length > 0) {\n      // Force a re-render by updating a dummy state\n      setRequests(prev => [...prev]);\n    }\n  }, [allRequestIds]);\n\n  const formatAddress = (addr: string) => {\n    return `${addr.slice(0, 6)}...${addr.slice(-4)}`;\n  };\n\n  const formatDate = (timestamp: bigint) => {\n    // Convert seconds to milliseconds if timestamp is small (likely seconds from blockchain)\n    const timestampNum = Number(timestamp);\n    const date = timestampNum > 1e10 ? new Date(timestampNum) : new Date(timestampNum * 1000);\n    return date.toLocaleDateString();\n  };\n\n  // Helper function to decrypt bytes back to string\n  const decryptBytes = async (encryptedData: any): Promise<string> => {\n    try {\n      // Handle different data formats\n      let bytes: Uint8Array;\n\n      if (encryptedData instanceof Uint8Array) {\n        bytes = encryptedData;\n      } else if (typeof encryptedData === 'string' && encryptedData.startsWith('0x')) {\n        // Convert hex string to bytes\n        const hex = encryptedData.slice(2);\n        bytes = new Uint8Array(hex.length / 2);\n        for (let i = 0; i < bytes.length; i++) {\n          bytes[i] = parseInt(hex.substr(i * 2, 2), 16);\n        }\n      } else if (Array.isArray(encryptedData)) {\n        bytes = new Uint8Array(encryptedData);\n      } else {\n        return '';\n      }\n\n      // For demo purposes, reverse the simple encryption\n      // In a real FHE implementation, this would use FHEVM decryption\n      if (bytes.length < 4) {\n        return '';\n      }\n\n      const dataView = new DataView(bytes.buffer);\n      const length = dataView.getUint32(0, true);\n      const textBytes = bytes.slice(4, 4 + length);\n\n      const decoder = new TextDecoder();\n      return decoder.decode(textBytes);\n    } catch (error) {\n      console.error('Error decrypting bytes:', error);\n      return '';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"panel-card\">\n        <h2 style={{\n          fontSize: '1.5rem',\n          fontWeight: 700,\n          color: 'rgba(0, 0, 0, 0.9)',\n          marginBottom: '16px'\n        }}>\n          Transfer Requests\n        </h2>\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          padding: '40px 20px'\n        }}>\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\n          <span style={{\n            marginLeft: '12px',\n            color: 'rgba(0, 0, 0, 0.6)',\n            fontSize: '0.875rem'\n          }}>Loading requests...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"panel-card\">\n      <h2 style={{\n        fontSize: '1.5rem',\n        fontWeight: 700,\n        color: 'rgba(0, 0, 0, 0.9)',\n        marginBottom: '24px'\n      }}>\n        Artifact Transfer Requests\n      </h2>\n\n      {error && (\n        <div style={{\n          backgroundColor: '#fef2f2',\n          border: '1px solid #fecaca',\n          borderRadius: '8px',\n          padding: '16px',\n          marginBottom: '24px'\n        }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '8px'\n          }}>\n            <span style={{\n              color: '#dc2626',\n              fontSize: '1.25rem',\n              marginRight: '8px'\n            }}></span>\n            <h3 style={{\n              fontSize: '1rem',\n              fontWeight: 600,\n              color: '#dc2626',\n              margin: 0\n            }}>\n              Contract Error\n            </h3>\n          </div>\n          <p style={{\n            color: '#991b1b',\n            fontSize: '0.875rem',\n            margin: 0,\n            marginBottom: '12px'\n          }}>\n            {error}\n          </p>\n          <div style={{\n            backgroundColor: '#f3f4f6',\n            borderRadius: '4px',\n            padding: '8px',\n            fontFamily: 'monospace',\n            fontSize: '0.75rem',\n            color: '#374151'\n          }}>\n            To fix this, run:<br />\n            cd artifact-cipher<br />\n            node fix-contract.js\n          </div>\n        </div>\n      )}\n\n      {requests.length === 0 && !error ? (\n        <div style={{ textAlign: 'center', padding: '40px 20px' }}>\n          <p style={{\n            fontSize: '1.125rem',\n            fontWeight: 600,\n            color: 'rgba(0, 0, 0, 0.8)',\n            marginBottom: '8px'\n          }}>\n            No transfer requests found.\n          </p>\n          <p style={{\n            fontSize: '0.875rem',\n            color: 'rgba(0, 0, 0, 0.6)',\n            margin: 0\n          }}>\n            Create a new request to get started with artifact transfers.\n          </p>\n        </div>\n      ) : (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n          {requests.map((request) => (\n            <div\n              key={request.id}\n              className=\"panel-card\"\n              style={{ marginBottom: 0 }}\n            >\n              <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '12px',\n                marginBottom: '12px'\n              }}>\n                <div style={{ flex: 1, minWidth: 0 }}>\n                  <h3 style={{\n                    fontSize: '1.125rem',\n                    fontWeight: 700,\n                    color: 'rgba(0, 0, 0, 0.9)',\n                    marginBottom: '8px',\n                    wordBreak: 'break-word'\n                  }}>{request.artifactName}</h3>\n                  <p style={{\n                    fontSize: '0.875rem',\n                    color: 'rgba(0, 0, 0, 0.7)',\n                    wordBreak: 'break-all'\n                  }}>\n                    Requested by <span style={{ fontFamily: 'monospace', fontSize: '0.75rem' }}>{formatAddress(request.requester)}</span>\n                    <span style={{ marginLeft: '8px' }}>on {formatDate(request.createdAt)}</span>\n                  </p>\n                </div>\n                <div className=\"flex flex-wrap gap-2 flex-shrink-0\">\n                  {request.decrypted && (\n                    <span className={`badge ${\n                      request.approved ? 'badge-success' : 'badge-danger'\n                    }`}>\n                      {request.approved ? (\n                        <>\n                          <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                          </svg>\n                          Approved\n                        </>\n                      ) : (\n                        <>\n                          <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                          Rejected\n                        </>\n                      )}\n                    </span>\n                  )}\n                  {request.active && !request.decrypted && (\n                    <span className=\"badge badge-warning\">\n                      <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                      Voting Active\n                    </span>\n                  )}\n                </div>\n              </div>\n\n              <p style={{\n                color: 'rgba(0, 0, 0, 0.8)',\n                marginBottom: '12px',\n                lineHeight: 1.6,\n                fontSize: '0.875rem'\n              }}>{request.description}</p>\n\n              {request.decrypted && (\n                <div style={{\n                  padding: '12px 16px',\n                  background: 'rgba(0, 0, 0, 0.03)',\n                  borderRadius: '8px',\n                  marginBottom: '12px',\n                  borderLeft: '3px solid rgba(102, 126, 234, 0.3)'\n                }}>\n                  <h4 style={{\n                    fontSize: '0.75rem',\n                    fontWeight: 600,\n                    color: 'rgba(0, 0, 0, 0.8)',\n                    marginBottom: '8px'\n                  }}>Final Results</h4>\n                  <div style={{ display: 'flex', gap: '24px', fontSize: '0.875rem' }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      <span style={{ color: '#10b981', fontWeight: 700, fontSize: '1rem' }}>{request.finalYesCount}</span>\n                      <span style={{ color: 'rgba(0, 0, 0, 0.7)', fontSize: '0.75rem' }}>Yes Votes</span>\n                    </div>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      <span style={{ color: '#ef4444', fontWeight: 700, fontSize: '1rem' }}>{request.finalNoCount}</span>\n                      <span style={{ color: 'rgba(0, 0, 0, 0.7)', fontSize: '0.75rem' }}>No Votes</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '8px',\n                paddingTop: '12px',\n                borderTop: '1px solid rgba(0, 0, 0, 0.1)'\n              }}>\n                {request.canVote && (\n                  <button\n                    onClick={() => onVoteRequest(Number(request.id))}\n                    className=\"btn btn-primary flex-1\"\n                    style={{\n                      padding: '0.5rem 1rem',\n                      fontSize: '0.875rem',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center'\n                    }}\n                  >\n                    <span className=\"font-medium\">Vote</span>\n                  </button>\n                )}\n\n                {request.canDecrypt && (\n                  <button\n                    onClick={() => onDecryptRequest(Number(request.id))}\n                    className=\"btn flex-1\"\n                    style={{\n                      padding: '0.5rem 1rem',\n                      fontSize: '0.875rem',\n                      background: 'linear-gradient(135deg, #8b5cf6, #7c3aed)',\n                      borderColor: '#8b5cf6',\n                      color: 'white',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center'\n                    }}\n                  >\n                    <span className=\"font-medium\">Decrypt Results</span>\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4497, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/src/components/VoteOnRequest.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAccount, useReadContract } from 'wagmi';\nimport { TransferRequest, useArtifactVoting } from '../hooks/useArtifactVoting';\nimport { useVotingWithFHE } from '../hooks/useVotingWithFHE';\nimport { EncryptedArtifactVoting__factory } from '../../../types';\nimport { getContractAddress } from '../config/contracts';\n\ninterface VoteOnRequestProps {\n  requestId: number;\n  onBack: () => void;\n}\n\ninterface RequestDetails extends TransferRequest {\n  id: bigint;\n  artifactName: string;\n  description: string;\n  requester: string;\n  createdAt: bigint;\n  active: boolean;\n  decrypted: boolean;\n  finalYesCount: bigint;\n  finalNoCount: bigint;\n  approved: boolean;\n}\n\nexport function VoteOnRequest({ requestId, onBack }: VoteOnRequestProps) {\n  const { isConnected, address } = useAccount();\n  const { submitEncryptedVote, fhevmReady, fhevmError, isEncrypting } = useVotingWithFHE();\n  const { simpleVote } = useArtifactVoting();\n  const [vote, setVote] = useState<'yes' | 'no' | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [requestDetails, setRequestDetails] = useState<RequestDetails | null>(null);\n\n  const contractAddress = getContractAddress(31337); // Use localhost for now\n\n  // Get request details directly from contract\n  const { data: requestData } = useReadContract({\n    address: contractAddress as `0x${string}`,\n    abi: EncryptedArtifactVoting__factory.abi,\n    functionName: 'getTransferRequest',\n    args: [BigInt(requestId)],\n    query: {\n      enabled: !!contractAddress && requestId !== null,\n    },\n  });\n\n  // Check if user has already voted\n  const { data: hasVoted } = useReadContract({\n    address: contractAddress as `0x${string}`,\n    abi: EncryptedArtifactVoting__factory.abi,\n    functionName: 'hasVoted',\n    args: [BigInt(requestId), address as `0x${string}`],\n    query: {\n      enabled: !!contractAddress && !!address && requestId !== null,\n    },\n  });\n\n  useEffect(() => {\n    if (requestData && Array.isArray(requestData)) {\n      try {\n        let artifactName = requestData[1] || '';\n        let description = requestData[2] || '';\n\n        // Try to decrypt encrypted data\n        if (requestData[10] && requestData[10].length > 0) {\n          try {\n            artifactName = decryptBytes(requestData[10]);\n          } catch {\n            console.log('Could not decrypt artifact name, using available data');\n          }\n        }\n\n        if (requestData[11] && requestData[11].length > 0) {\n          try {\n            description = decryptBytes(requestData[11]);\n          } catch {\n            console.log('Could not decrypt description, using available data');\n          }\n        }\n\n        const request: TransferRequest = {\n          id: requestData[0],\n          artifactName: artifactName,\n          description: description,\n          requester: requestData[3],\n          createdAt: requestData[4],\n          active: requestData[5],\n          decrypted: requestData[6],\n          finalYesCount: BigInt(requestData[7]),\n          finalNoCount: BigInt(requestData[8]),\n          approved: requestData[9],\n        };\n        setRequestDetails(request);\n      } catch (error) {\n        console.error('Error parsing request data:', error);\n      }\n    }\n  }, [requestData]);\n\n  // Helper function to decrypt bytes back to string\n  const decryptBytes = (encryptedData: any): string => {\n    try {\n      // Handle different data formats\n      let bytes: Uint8Array;\n\n      if (encryptedData instanceof Uint8Array) {\n        bytes = encryptedData;\n      } else if (typeof encryptedData === 'string' && encryptedData.startsWith('0x')) {\n        // Convert hex string to bytes\n        const hex = encryptedData.slice(2);\n        bytes = new Uint8Array(hex.length / 2);\n        for (let i = 0; i < bytes.length; i++) {\n          bytes[i] = parseInt(hex.substr(i * 2, 2), 16);\n        }\n      } else if (Array.isArray(encryptedData)) {\n        bytes = new Uint8Array(encryptedData);\n      } else {\n        return '';\n      }\n\n      // For demo purposes, reverse the simple encryption\n      if (bytes.length < 4) {\n        return '';\n      }\n\n      const dataView = new DataView(bytes.buffer);\n      const length = dataView.getUint32(0, true);\n      const textBytes = bytes.slice(4, 4 + length);\n\n      const decoder = new TextDecoder();\n      return decoder.decode(textBytes);\n    } catch (error) {\n      console.error('Error decrypting bytes:', error);\n      return '';\n    }\n  };\n\n  const handleVote = async () => {\n    if (!vote || !isConnected || !fhevmReady) return;\n\n    setIsSubmitting(true);\n    try {\n      const voteValue = vote === 'yes' ? 1 : 0;\n\n      // For demo purposes, use simpleVote instead of FHE voting\n      // This ensures vote counts are properly updated and displayed\n      await simpleVote(requestId, voteValue);\n\n      // Vote submitted successfully\n      onBack();\n    } catch (error: unknown) {\n      console.error('Error submitting vote:', error);\n\n      // Check if it's a duplicate vote error\n      const errorMessage = (error as Error)?.message || String(error);\n      if (errorMessage.includes('notVoted') ||\n          errorMessage.includes('already voted') ||\n          errorMessage.includes('Already voted')) {\n        // User has already voted on this request\n      } else {\n        console.error('Failed to submit vote:', error);\n      }\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!isConnected) {\n    return (\n      <div className=\"panel-card\">\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n          Vote on Transfer Request\n        </h2>\n        <p className=\"text-gray-700 mb-6\">Please connect your wallet to vote on transfer requests.</p>\n        <button onClick={onBack} className=\"btn btn-secondary\">\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  if (fhevmError) {\n    return (\n      <div className=\"panel-card\">\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n          Vote on Transfer Request\n        </h2>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-lg\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}></span>\n            <h4 className=\"font-semibold\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>FHEVM Error</h4>\n          </div>\n          <p className=\"text-sm mt-2\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>\n            Failed to initialize homomorphic encryption: {fhevmError.message}\n          </p>\n          <p className=\"text-sm mt-2\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>\n            Please refresh the page and try again.\n          </p>\n        </div>\n        <button onClick={onBack} className=\"btn btn-secondary\">\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  if (!requestDetails) {\n    return (\n      <div className=\"panel-card\">\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n          Vote on Transfer Request\n        </h2>\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\n            <span className=\"ml-2 text-gray-700\">Loading request details...</span>\n          </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"panel-card\">\n      <h2 className=\"text-2xl font-bold mb-6\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n        Vote on Transfer Request #{requestId}\n      </h2>\n\n      <div className=\"info-box mb-6\">\n        <h3 className=\"text-xl font-bold mb-3\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>{requestDetails.artifactName}</h3>\n        <p className=\"mb-4 leading-relaxed\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>{requestDetails.description}</p>\n        <div className=\"text-sm space-y-1\" style={{ color: 'rgba(0, 0, 0, 0.7)' }}>\n          <div>Requested by: <span className=\"font-mono\">{requestDetails.requester.slice(0, 6)}...{requestDetails.requester.slice(-4)}</span></div>\n          <div>Created: {(() => {\n            const timestampNum = Number(requestDetails.createdAt);\n            const date = timestampNum > 1e10 ? new Date(timestampNum) : new Date(timestampNum * 1000);\n            return date.toLocaleDateString();\n          })()}</div>\n        </div>\n      </div>\n\n      <div className=\"mb-6\">\n        <h3 className=\"text-lg font-bold mb-4\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>Cast Your Vote</h3>\n        <p className=\"mb-6\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>\n          Your vote will be encrypted using homomorphic encryption. The voting content remains private,\n          but the final tally will be transparently computed on-chain.\n        </p>\n\n        {hasVoted ? (\n          <div className=\"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 mb-6\">\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-2xl\"></span>\n              <div>\n                <h3 className=\"text-lg font-bold\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>Already Voted</h3>\n                <p style={{ color: 'rgba(0, 0, 0, 0.8)' }}>\n                  You have already cast your vote on this request. Each address can only vote once.\n                </p>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n            <button\n              onClick={() => setVote('yes')}\n              className={`py-6 px-6 rounded-xl font-semibold transition-all ${\n                vote === 'yes'\n                  ? 'bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg transform scale-105 border-2 border-green-400'\n                  : 'bg-white hover:bg-gray-50 border-2 border-gray-200 hover:border-green-300'\n              }`}\n              style={vote === 'yes' ? {} : { color: 'rgba(0, 0, 0, 0.8)' }}\n            >\n              <div className=\"text-2xl mb-2\"></div>\n              <div className=\"text-lg\">Approve Transfer</div>\n            </button>\n            <button\n              onClick={() => setVote('no')}\n              className={`py-6 px-6 rounded-xl font-semibold transition-all ${\n                vote === 'no'\n                  ? 'bg-gradient-to-r from-red-500 to-rose-600 text-white shadow-lg transform scale-105 border-2 border-red-400'\n                  : 'bg-white hover:bg-gray-50 border-2 border-gray-200 hover:border-red-300'\n              }`}\n              style={vote === 'no' ? {} : { color: 'rgba(0, 0, 0, 0.8)' }}\n            >\n              <div className=\"text-2xl mb-2\"></div>\n              <div className=\"text-lg\">Reject Transfer</div>\n            </button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"info-box mb-6\" style={{\n        background: 'linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(16, 185, 129, 0.1))',\n        borderColor: 'rgba(99, 102, 241, 0.3)'\n      }}>\n        <h4 className=\"font-semibold mb-3 flex items-center gap-2\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n          <span className=\"text-xl\"></span> Privacy Protection\n        </h4>\n        <ul className=\"text-sm space-y-2\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>\n          <li> Your vote is encrypted before submission</li>\n          <li> Individual votes remain private during voting</li>\n          <li> Only the final tally is decrypted by the admin</li>\n          <li> Protects against responsibility exposure in disputes</li>\n        </ul>\n      </div>\n\n      <div className=\"flex gap-4\">\n        <button onClick={onBack} className=\"btn btn-secondary\">\n          Back\n        </button>\n        {hasVoted ? (\n          <button\n            disabled\n            className=\"btn\"\n            style={{ opacity: 0.5, cursor: 'not-allowed', background: '#6b7280' }}\n          >\n            Already Voted\n          </button>\n        ) : (\n        <button\n          onClick={handleVote}\n          disabled={!vote || isSubmitting || isEncrypting}\n          className={`btn ${vote && !isSubmitting && !isEncrypting ? 'btn-primary' : ''}`}\n          style={!vote || isSubmitting || isEncrypting ? { opacity: 0.5, cursor: 'not-allowed' } : {}}\n        >\n          {isSubmitting || isEncrypting ? (\n            <span className=\"flex items-center gap-2\">\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n              {isEncrypting ? 'Encrypting Vote...' : 'Submitting Vote...'}\n            </span>\n          ) : (\n            'Submit Vote'\n          )}\n        </button>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5240, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/src/components/AdminDecryptResults.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAccount, useReadContract, useChainId } from 'wagmi';\nimport { TransferRequest } from '../hooks/useArtifactVoting';\nimport { useArtifactVoting } from '../hooks/useArtifactVoting';\nimport { EncryptedArtifactVoting__factory } from '../../../types';\nimport { getContractAddress } from '../config/contracts';\nimport { ethers } from 'ethers';\n\ninterface AdminDecryptResultsProps {\n  requestId: number;\n  onBack: () => void;\n}\n\ninterface RequestDetails extends TransferRequest {\n  id: bigint;\n  artifactName: string;\n  description: string;\n  requester: string;\n  createdAt: bigint;\n  active: boolean;\n  decrypted: boolean;\n  finalYesCount: bigint;\n  finalNoCount: bigint;\n  approved: boolean;\n}\n\nexport function AdminDecryptResults({ requestId, onBack }: AdminDecryptResultsProps) {\n  const { isConnected } = useAccount();\n  const chainId = useChainId();\n  const { decryptResults } = useArtifactVoting();\n  const [isDecrypting, setIsDecrypting] = useState(false);\n  const [results, setResults] = useState<{yesVotes: number; noVotes: number; approved: boolean} | null>(null);\n  const [requestDetails, setRequestDetails] = useState<RequestDetails | null>(null);\n  const [decrypted, setDecrypted] = useState(false);\n\n  const contractAddress = getContractAddress(31337); // Use localhost for now\n\n  // Get request details directly from contract\n  const { data: requestData, refetch: refetchRequestData } = useReadContract({\n    address: contractAddress as `0x${string}`,\n    abi: EncryptedArtifactVoting__factory.abi,\n    functionName: 'getTransferRequest',\n    args: [BigInt(requestId)],\n    query: {\n      enabled: !!contractAddress && requestId !== null,\n    },\n  });\n\n  useEffect(() => {\n    if (requestData && Array.isArray(requestData)) {\n      try {\n        let artifactName = requestData[1] || '';\n        let description = requestData[2] || '';\n\n        // Try to decrypt encrypted data\n        if (requestData[10] && requestData[10].length > 0) {\n          try {\n            artifactName = decryptBytes(requestData[10]);\n          } catch {\n            console.log('Could not decrypt artifact name, using available data');\n          }\n        }\n\n        if (requestData[11] && requestData[11].length > 0) {\n          try {\n            description = decryptBytes(requestData[11]);\n          } catch {\n            console.log('Could not decrypt description, using available data');\n          }\n        }\n\n        const request: TransferRequest = {\n          id: requestData[0],\n          artifactName: artifactName,\n          description: description,\n          requester: requestData[5],        // 5: requester\n          createdAt: requestData[6],        // 6: createdAt\n          active: requestData[7],           // 7: active\n          decrypted: requestData[8],        // 8: decrypted\n          finalYesCount: BigInt(requestData[9]),  // 9: finalYesCount\n          finalNoCount: BigInt(requestData[10]), // 10: finalNoCount\n          approved: requestData[11],        // 11: approved\n        };\n        setRequestDetails(request);\n\n        // If already decrypted, show results immediately\n        if (request.decrypted) {\n          setResults({\n            yesVotes: Number(request.finalYesCount),\n            noVotes: Number(request.finalNoCount),\n            approved: request.approved\n          });\n          setDecrypted(true);\n        }\n      } catch (error) {\n        console.error('Error parsing request data:', error);\n      }\n    }\n  }, [requestData, requestId]);\n\n  // Helper function to decrypt bytes back to string\n  const decryptBytes = (encryptedData: any): string => {\n    try {\n      // Handle different data formats\n      let bytes: Uint8Array;\n\n      if (encryptedData instanceof Uint8Array) {\n        bytes = encryptedData;\n      } else if (typeof encryptedData === 'string' && encryptedData.startsWith('0x')) {\n        // Convert hex string to bytes\n        const hex = encryptedData.slice(2);\n        bytes = new Uint8Array(hex.length / 2);\n        for (let i = 0; i < bytes.length; i++) {\n          bytes[i] = parseInt(hex.substr(i * 2, 2), 16);\n        }\n      } else if (Array.isArray(encryptedData)) {\n        bytes = new Uint8Array(encryptedData);\n      } else {\n        return '';\n      }\n\n      // For demo purposes, reverse the simple encryption\n      if (bytes.length < 4) {\n        return '';\n      }\n\n      const dataView = new DataView(bytes.buffer);\n      const length = dataView.getUint32(0, true);\n      const textBytes = bytes.slice(4, 4 + length);\n\n      const decoder = new TextDecoder();\n      return decoder.decode(textBytes);\n    } catch (error) {\n      console.error('Error decrypting bytes:', error);\n      return '';\n    }\n  };\n\n  const handleDecrypt = async () => {\n    if (!isConnected || !requestDetails) return;\n\n    setIsDecrypting(true);\n    try {\n      // \n      if (decrypted) {\n        console.log('Results already displayed in current session, skipping');\n        return;\n      }\n\n      // \n      if (requestDetails.decrypted) {\n        console.log('Request already decrypted in contract, displaying results');\n        const yesVotes = Number(requestDetails.finalYesCount);\n        const noVotes = Number(requestDetails.finalNoCount);\n        const approved = yesVotes > noVotes;\n        setResults({\n          yesVotes,\n          noVotes,\n          approved\n        });\n        setDecrypted(true);\n        console.log('Results were already decrypted:', { yesVotes, noVotes, approved });\n        return;\n      }\n\n      // FHEMetaMask\n      console.log('Starting FHE decryption for request:', requestId);\n      const txHash = await decryptResults(requestId);\n\n      // \n      console.log('Transaction hash:', txHash);\n      const { ethers } = await import('ethers');\n      const provider = new ethers.BrowserProvider(window.ethereum!);\n      const receipt = await provider.waitForTransaction(txHash);\n      console.log('Transaction confirmed in block:', receipt.blockNumber);\n\n      // \n      const events = receipt.logs.map(log => {\n        try {\n          return EncryptedArtifactVoting__factory.createInterface().parseLog(log);\n        } catch {\n          return null;\n        }\n      }).filter(Boolean);\n\n      const decryptEvent = events.find(event => event?.name === 'ResultsDecrypted');\n      if (decryptEvent) {\n        const { yesVotes, noVotes, approved } = decryptEvent.args;\n        console.log('Decryption result from event:', { yesVotes, noVotes, approved });\n\n        // \n        setResults({\n          yesVotes: Number(yesVotes),\n          noVotes: Number(noVotes),\n          approved\n        });\n        setDecrypted(true);\n\n        console.log('Results decrypted successfully:', { yesVotes, noVotes, approved });\n\n        // Refetch the request data to update the UI\n        await refetchRequestData();\n      } else {\n        // \n        console.log('No decrypt event found, refetching data...');\n\n        // \n        const { ethers } = await import('ethers');\n        const provider = new ethers.BrowserProvider(window.ethereum!);\n        const contract = new ethers.Contract(\n          getContractAddress(chainId || 31337),\n          EncryptedArtifactVoting__factory.abi,\n          provider\n        );\n\n        const updatedRequest = await contract.getTransferRequest(requestId);\n        const yesVotes = Number(updatedRequest[9]);\n        const noVotes = Number(updatedRequest[10]);\n        const approved = updatedRequest[11];\n\n        setResults({\n          yesVotes,\n          noVotes,\n          approved\n        });\n        setDecrypted(true);\n\n        console.log('Results decrypted successfully:', { yesVotes, noVotes, approved });\n\n        // Refetch the request data to update the UI\n        await refetchRequestData();\n      }\n\n    } catch (error) {\n      console.error('Error decrypting results:', error);\n      console.error('Error details:', error);\n      console.error('Failed to decrypt results:', error);\n    } finally {\n      setIsDecrypting(false);\n    }\n  };\n\n  if (!isConnected) {\n    return (\n      <div className=\"panel-card\">\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n          Decrypt Voting Results\n        </h2>\n        <p className=\"text-gray-700 mb-6\">Please connect your wallet to decrypt voting results.</p>\n        <button onClick={onBack} className=\"btn btn-secondary\">\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  if (!requestDetails) {\n    return (\n      <div className=\"panel-card\">\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n          Decrypt Voting Results\n        </h2>\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\n          <span className=\"ml-2 text-gray-700\">Loading request details...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"panel-card\">\n      <h2 className=\"text-2xl font-bold mb-6\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n        Decrypt Voting Results - Request #{requestId}\n      </h2>\n\n      <div className=\"info-box mb-6\">\n        <h3 className=\"text-xl font-bold mb-3\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>{requestDetails.artifactName}</h3>\n        <p className=\"mb-4 leading-relaxed\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>{requestDetails.description}</p>\n        <div className=\"text-sm space-y-1\" style={{ color: 'rgba(0, 0, 0, 0.7)' }}>\n          <div>Requested by: <span className=\"font-mono\">{requestDetails.requester.slice(0, 6)}...{requestDetails.requester.slice(-4)}</span></div>\n          <div>Created: {(() => {\n            const timestampNum = Number(requestDetails.createdAt);\n            const date = timestampNum > 1e10 ? new Date(timestampNum) : new Date(timestampNum * 1000);\n            return date.toLocaleDateString();\n          })()}</div>\n        </div>\n      </div>\n\n      {!decrypted ? (\n        <div className=\"text-center py-8\">\n          <div className=\"info-box mb-6\" style={{\n            background: 'linear-gradient(135deg, rgba(245, 158, 11, 0.08), rgba(245, 158, 11, 0.05))',\n            borderColor: 'rgba(245, 158, 11, 0.2)'\n          }}>\n            <h3 className=\"font-bold mb-3 flex items-center gap-2 text-lg\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n              <span className=\"text-2xl\"></span> Encrypted Results\n            </h3>\n            <p className=\"mb-4\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>\n              The voting results are currently encrypted. Anyone can decrypt and reveal the final outcome.\n            </p>\n            <div className=\"text-sm text-left space-y-1\" style={{ color: 'rgba(0, 0, 0, 0.7)' }}>\n              <div> Votes were computed homomorphically on-chain</div>\n              <div> Individual votes remain private</div>\n              <div> Final tally is encrypted until decryption</div>\n            </div>\n          </div>\n\n          <button\n            onClick={handleDecrypt}\n            disabled={isDecrypting}\n            className=\"btn\"\n            style={{\n              background: isDecrypting ? 'linear-gradient(135deg, #6b7280, #4b5563)' : 'linear-gradient(135deg, #8b5cf6, #7c3aed)',\n              borderColor: isDecrypting ? '#6b7280' : '#8b5cf6',\n              color: 'white',\n              padding: '1rem 2rem',\n              fontSize: '1.125rem'\n            }}\n          >\n            {isDecrypting ? (\n              <span className=\"flex items-center gap-2\">\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\n                Decrypting Results...\n              </span>\n            ) : (\n              <span className=\"flex items-center gap-2\">\n                <span className=\"text-xl\"></span> Decrypt Results\n              </span>\n            )}\n          </button>\n        </div>\n      ) : results ? (\n        <div className=\"text-center py-8\">\n          <div className={`panel-card mb-6 ${\n            results.approved\n              ? 'border-green-500'\n              : 'border-red-500'\n          }`} style={{\n            borderWidth: '2px',\n            background: results.approved \n              ? 'linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05))'\n              : 'linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05))'\n          }}>\n            <h3 className={`text-3xl font-bold mb-6`} style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n              {results.approved ? ' Transfer Approved' : ' Transfer Rejected'}\n            </h3>\n\n            <div className=\"grid grid-cols-2 gap-6 mb-6\">\n              <div className=\"bg-white/10 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/20\">\n                <div className=\"text-4xl font-bold mb-2\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>{results.yesVotes}</div>\n                <div className=\"text-sm font-semibold\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>Yes Votes</div>\n              </div>\n              <div className=\"bg-white/10 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-white/20\">\n                <div className=\"text-4xl font-bold mb-2\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>{results.noVotes}</div>\n                <div className=\"text-sm font-semibold\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>No Votes</div>\n              </div>\n            </div>\n\n            <div className=\"text-sm font-medium\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>\n              Decision: {results.yesVotes > results.noVotes ? 'Approved by majority vote' : 'Rejected by majority vote'}\n            </div>\n          </div>\n\n          <div className=\"info-box\">\n            <h4 className=\"font-semibold mb-3 flex items-center gap-2\" style={{ color: 'rgba(0, 0, 0, 0.9)' }}>\n              <span className=\"text-xl\"></span> Voting Summary\n            </h4>\n            <div className=\"text-sm space-y-2 text-left\" style={{ color: 'rgba(0, 0, 0, 0.8)' }}>\n              <div><strong>Total Votes Cast:</strong> {results.yesVotes + results.noVotes}</div>\n              <div><strong>Approval Threshold:</strong> Majority (50% + 1)</div>\n              <div><strong>Result:</strong> {results.approved ? 'Transfer Approved' : 'Transfer Rejected'}</div>\n            </div>\n          </div>\n        </div>\n      ) : null}\n\n      <div className=\"flex justify-center mt-6\">\n        <button onClick={onBack} className=\"btn btn-secondary\">\n          Back to Requests\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6036, "column": 0}, "map": {"version":3,"sources":["file:///E:/Spring/Zama/artifact-cipher/frontend/src/components/ArtifactVotingApp.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAccount } from 'wagmi';\nimport { CreateTransferRequest } from './CreateTransferRequest';\nimport { TransferRequestList } from './TransferRequestList';\nimport { VoteOnRequest } from './VoteOnRequest';\nimport { AdminDecryptResults } from './AdminDecryptResults';\nimport { NetworkGuard } from './NetworkGuard';\n\nexport type ViewMode = 'list' | 'create' | 'vote' | 'decrypt';\n\nexport function ArtifactVotingApp() {\n  const [viewMode, setViewMode] = useState<ViewMode>('list');\n  const [selectedRequestId, setSelectedRequestId] = useState<number | null>(null);\n  const [isHydrated, setIsHydrated] = useState(false);\n  const [refreshKey, setRefreshKey] = useState(0);\n  const { isConnected } = useAccount();\n\n  // Prevent hydration mismatch by waiting for client-side hydration\n  useEffect(() => {\n    setIsHydrated(true);\n  }, []);\n\n  // Function to refresh data after creating new requests\n  const refreshData = () => {\n    setRefreshKey(prev => prev + 1);\n  };\n\n  const handleViewChange = (mode: ViewMode, requestId?: number) => {\n    setViewMode(mode);\n    if (requestId !== undefined) {\n      setSelectedRequestId(requestId);\n    }\n  };\n\n  const handleBackToList = () => {\n    setViewMode('list');\n    setSelectedRequestId(null);\n    // Refresh data when returning to list (e.g., after creating a new request)\n    refreshData();\n  };\n\n  // Show loading state during hydration\n  if (!isHydrated) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[40vh]\">\n        <div className=\"panel-card text-center max-w-md\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-4\"></div>\n          <p style={{ color: 'rgba(0, 0, 0, 0.7)' }}>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show wallet connection prompt if not connected\n  if (!isConnected) {\n    return (\n      <div style={{ minHeight: '100vh' }}>\n        {/* Hero section */}\n        <section style={{\n          padding: '60px 24px 40px',\n          textAlign: 'center',\n          background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)'\n        }}>\n          <div style={{ maxWidth: '800px', margin: '0 auto' }}>\n            <h1 style={{\n              fontSize: 'clamp(2rem, 5vw, 3.5rem)',\n              fontWeight: 800,\n              color: 'white',\n              marginBottom: '16px',\n              textShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\n              lineHeight: 1.2\n            }}>\n              Encrypted Artifact Transfer Voting\n            </h1>\n            <p style={{\n              fontSize: '1.25rem',\n              color: 'rgba(255, 255, 255, 0.9)',\n              marginBottom: '32px',\n              textShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',\n              maxWidth: '600px',\n              margin: '0 auto 32px'\n            }}>\n              Secure voting system for artifact transfer approvals using Fully Homomorphic Encryption (FHE) technology. Your privacy is protected through advanced cryptographic methods.\n            </p>\n            <div style={{\n              display: 'flex',\n              gap: 16,\n              justifyContent: 'center',\n              flexWrap: 'wrap'\n            }}>\n              <div style={{\n                padding: '12px 24px',\n                background: 'rgba(255, 255, 255, 0.1)',\n                borderRadius: '8px',\n                color: 'white',\n                fontSize: '0.9rem',\n                fontWeight: 500\n              }}>\n                 FHE Encrypted\n              </div>\n              <div style={{\n                padding: '12px 24px',\n                background: 'rgba(255, 255, 255, 0.1)',\n                borderRadius: '8px',\n                color: 'white',\n                fontSize: '0.9rem',\n                fontWeight: 500\n              }}>\n                 Private Voting\n              </div>\n              <div style={{\n                padding: '12px 24px',\n                background: 'rgba(255, 255, 255, 0.1)',\n                borderRadius: '8px',\n                color: 'white',\n                fontSize: '0.9rem',\n                fontWeight: 500\n              }}>\n                 Secure & Transparent\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* Main content */}\n        <main style={{\n          maxWidth: '1200px',\n          margin: '0 auto',\n          padding: '0 24px 60px',\n          width: '100%'\n        }}>\n          <div className=\"panel-card\">\n            <div style={{ textAlign: 'center' }}>\n              <h2 style={{\n                fontSize: '1.5rem',\n                fontWeight: 700,\n                color: 'rgba(0, 0, 0, 0.8)',\n                marginBottom: '16px'\n              }}>\n                Connect Your Wallet\n              </h2>\n              <p style={{\n                color: 'rgba(0, 0, 0, 0.6)',\n                fontSize: '1rem',\n                marginBottom: '24px'\n              }}>\n                Please connect your MetaMask wallet to start participating in secure artifact transfer voting.\n              </p>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  return (\n    <NetworkGuard>\n      <div style={{ minHeight: '100vh' }}>\n      {/* Hero section */}\n      <section style={{\n        padding: '60px 24px 40px',\n        textAlign: 'center',\n        background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)'\n      }}>\n        <div style={{ maxWidth: '800px', margin: '0 auto' }}>\n          <h1 style={{\n            fontSize: 'clamp(2rem, 5vw, 3.5rem)',\n            fontWeight: 800,\n            color: 'white',\n            marginBottom: '16px',\n            textShadow: '0 4px 8px rgba(0, 0, 0, 0.2)',\n            lineHeight: 1.2\n          }}>\n            Encrypted Artifact Transfer Voting\n          </h1>\n          <p style={{\n            fontSize: '1.25rem',\n            color: 'rgba(255, 255, 255, 0.9)',\n            marginBottom: '32px',\n            textShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',\n            maxWidth: '600px',\n            margin: '0 auto 32px'\n          }}>\n            Secure voting system for artifact transfer approvals using Fully Homomorphic Encryption (FHE) technology.\n            Your privacy is protected through advanced cryptographic methods.\n          </p>\n          \n\n          <div style={{\n            display: 'flex',\n            gap: 16,\n            justifyContent: 'center',\n            flexWrap: 'wrap'\n          }}>\n            <div style={{\n              padding: '12px 24px',\n              background: 'rgba(255, 255, 255, 0.1)',\n              borderRadius: '8px',\n              color: 'white',\n              fontSize: '0.9rem',\n              fontWeight: 500\n            }}>\n               FHE Encrypted\n            </div>\n            <div style={{\n              padding: '12px 24px',\n              background: 'rgba(255, 255, 255, 0.1)',\n              borderRadius: '8px',\n              color: 'white',\n              fontSize: '0.9rem',\n              fontWeight: 500\n            }}>\n               Private Voting\n            </div>\n            <div style={{\n              padding: '12px 24px',\n              background: 'rgba(255, 255, 255, 0.1)',\n              borderRadius: '8px',\n              color: 'white',\n              fontSize: '0.9rem',\n              fontWeight: 500\n            }}>\n               Secure & Transparent\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Main content */}\n      <main style={{\n        maxWidth: '1200px',\n        margin: '0 auto',\n        padding: '0 24px 60px',\n        width: '100%'\n      }}>\n        <div className=\"animate-fade-in\">\n          {/* Action Tabs */}\n          <div className=\"panel-card\" style={{ marginBottom: '24px' }}>\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '8px'\n            }}>\n              <div style={{\n                display: 'flex',\n                flexDirection: 'row',\n                gap: '8px',\n                flexWrap: 'wrap'\n              }}>\n                <button\n                  onClick={() => handleViewChange('list')}\n                  style={{\n                    flex: 1,\n                    minWidth: '150px',\n                    padding: '12px 24px',\n                    borderRadius: '12px',\n                    fontWeight: 600,\n                    fontSize: '0.9rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s ease',\n                    border: 'none',\n                    ...(viewMode === 'list' ? {\n                      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                      color: 'white',\n                      boxShadow: '0 4px 12px rgba(102, 126, 234, 0.4)'\n                    } : {\n                      background: 'rgba(0, 0, 0, 0.05)',\n                      color: 'rgba(0, 0, 0, 0.7)'\n                    })\n                  }}\n                  onMouseEnter={(e) => {\n                    if (viewMode !== 'list') {\n                      e.currentTarget.style.background = 'rgba(0, 0, 0, 0.1)';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (viewMode !== 'list') {\n                      e.currentTarget.style.background = 'rgba(0, 0, 0, 0.05)';\n                    }\n                  }}\n                >\n                  View Requests\n                </button>\n                <button\n                  onClick={() => handleViewChange('create')}\n                  style={{\n                    flex: 1,\n                    minWidth: '150px',\n                    padding: '12px 24px',\n                    borderRadius: '12px',\n                    fontWeight: 600,\n                    fontSize: '0.9rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s ease',\n                    border: 'none',\n                    ...(viewMode === 'create' ? {\n                      background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                      color: 'white',\n                      boxShadow: '0 4px 12px rgba(16, 185, 129, 0.4)'\n                    } : {\n                      background: 'rgba(0, 0, 0, 0.05)',\n                      color: 'rgba(0, 0, 0, 0.7)'\n                    })\n                  }}\n                  onMouseEnter={(e) => {\n                    if (viewMode !== 'create') {\n                      e.currentTarget.style.background = 'rgba(0, 0, 0, 0.1)';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (viewMode !== 'create') {\n                      e.currentTarget.style.background = 'rgba(0, 0, 0, 0.05)';\n                    }\n                  }}\n                >\n                  Create Request\n                </button>\n                <button\n                  onClick={() => handleViewChange('decrypt')}\n                  style={{\n                    flex: 1,\n                    minWidth: '150px',\n                    padding: '12px 24px',\n                    borderRadius: '12px',\n                    fontWeight: 600,\n                    fontSize: '0.9rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s ease',\n                    border: 'none',\n                    ...(viewMode === 'decrypt' ? {\n                      background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n                      color: 'white',\n                      boxShadow: '0 4px 12px rgba(245, 158, 11, 0.4)'\n                    } : {\n                      background: 'rgba(0, 0, 0, 0.05)',\n                      color: 'rgba(0, 0, 0, 0.7)'\n                    })\n                  }}\n                  onMouseEnter={(e) => {\n                    if (viewMode !== 'decrypt') {\n                      e.currentTarget.style.background = 'rgba(0, 0, 0, 0.1)';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (viewMode !== 'decrypt') {\n                      e.currentTarget.style.background = 'rgba(0, 0, 0, 0.05)';\n                    }\n                  }}\n                >\n                  Decrypt Results\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Content Area */}\n          <div>\n            {viewMode === 'list' && (\n              <TransferRequestList\n                refreshTrigger={refreshKey}\n                onVoteRequest={(requestId) => handleViewChange('vote', requestId)}\n                onDecryptRequest={(requestId) => handleViewChange('decrypt', requestId)}\n              />\n            )}\n\n            {viewMode === 'create' && (\n              <CreateTransferRequest onBack={handleBackToList} onSuccess={refreshData} />\n            )}\n\n            {viewMode === 'vote' && selectedRequestId && (\n              <VoteOnRequest\n                requestId={selectedRequestId}\n                onBack={handleBackToList}\n              />\n            )}\n\n            {viewMode === 'decrypt' && selectedRequestId && (\n              <AdminDecryptResults\n                requestId={selectedRequestId}\n                onBack={handleBackToList}\n              />\n            )}\n          </div>\n        </div>\n      </main>\n      </div>\n    </NetworkGuard>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}